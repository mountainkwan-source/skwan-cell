<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>äº²å­æƒ…ç»ªç¿»è¯‘æœºï½œGood4Parents â¤ï¸ Good4Children</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","PingFang SC","Microsoft YaHei",sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px 40px;
      text-align: center;
    }
    .header h1 {
      font-size: 2.2em;
      margin-bottom: 8px;
    }
    .header .subtitle {
      font-size: 1.1em;
      opacity: 0.98;
      line-height: 1.7;
      max-width: 700px;
      margin: 0 auto;
    }
    .header .subtitle span {
      display: block;
      font-size: 0.9em;
      opacity: 0.9;
      margin-top: 6px;
    }
    
    .tab-navigation {
      display: flex;
      background: #f8f9fa;
      border-bottom: 2px solid #e9ecef;
    }
    .tab-button {
      flex: 1;
      padding: 16px;
      background: none;
      border: none;
      font-size: 1.05em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      color: #666;
      font-family: inherit;
    }
    .tab-button.active {
      background: white;
      color: #667eea;
      border-bottom: 3px solid #667eea;
    }
    .tab-button:hover {
      background: #e9ecef;
    }
    .tab-content {
      display: none;
      padding: 30px;
    }
    .tab-content.active {
      display: block;
    }

    /* æ­¥éª¤æŒ‡ç¤ºå™¨ */
    .step-indicator {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
      padding: 18px;
      background: #f8f9ff;
      border-radius: 12px;
      flex-wrap: wrap;
    }
    .step-dot {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #999;
      font-size: 1.1em;
    }
    .step-dot.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      transform: scale(1.2);
    }
    .step-arrow {
      color: #ccc;
      font-size: 1.2em;
    }

    /* å¹´é¾„é€‰æ‹©å™¨ */
    .age-selector {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .age-button {
      padding: 10px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 25px;
      background: white;
      cursor: pointer;
      font-size: 0.95em;
      font-weight: bold;
      transition: all 0.3s;
      font-family: inherit;
    }
    .age-button:hover {
      background: #f0f4ff;
    }
    .age-button.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    /* æƒ…å¢ƒå¤§å¡ç‰‡ */
    .scenario-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    .scenario-card {
      background: white;
      border: 3px solid #e0e0e0;
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      user-select: none;
    }
    .scenario-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    .scenario-card.active {
      border-color: #667eea;
      background: linear-gradient(135deg, #f0f4ff 0%, #e8ecff 100%);
      box-shadow: 0 8px 20px rgba(102,126,234,0.3);
    }
    .scenario-icon {
      font-size: 3.5em;
      margin-bottom: 10px;
    }
    .scenario-name {
      font-size: 1.05em;
      font-weight: bold;
      color: #333;
      margin-bottom: 4px;
    }
    .scenario-desc {
      font-size: 0.85em;
      color: #777;
      line-height: 1.4;
    }

    /* æƒ…ç»ªå¡ç‰‡ */
    .emotion-result {
      background: #fff9e6;
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      border-left: 5px solid #ffc107;
    }
    .emotion-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .emotion-items {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    .emotion-badge {
      background: white;
      padding: 10px 16px;
      border-radius: 25px;
      font-size: 1.05em;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .emotion-emoji {
      font-size: 1.3em;
    }
    .emotion-phrase {
      font-size: 0.85em;
      color: #777;
      margin-top: 4px;
      width: 100%;
    }

    /* éœ€è¦å¡ç‰‡ */
    .need-result {
      background: #e8f5e9;
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      border-left: 5px solid #4caf50;
    }
    .need-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .need-items {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    .need-badge {
      background: white;
      padding: 10px 16px;
      border-radius: 25px;
      font-size: 1.05em;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .need-phrase {
      font-size: 0.85em;
      color: #777;
      margin-top: 4px;
      width: 100%;
    }

    /* å›åº”å»ºè®®å¡ç‰‡ */
    .response-result {
      background: #e3f2fd;
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      border-left: 5px solid #2196f3;
    }
    .response-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .response-item {
      background: white;
      padding: 14px 14px 10px 14px;
      border-radius: 10px;
      margin-bottom: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      font-size: 0.98em;
      color: #444;
      position: relative;
    }
    .response-number {
      display: inline-block;
      width: 24px;
      height: 24px;
      background: #2196f3;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 24px;
      margin-right: 8px;
      font-size: 0.9em;
      font-weight: bold;
    }
    .response-main {
      font-weight: 600;
      margin-bottom: 4px;
      display: inline-block;
    }
    .response-say {
      font-size: 0.93em;
      color: #555;
      margin-left: 30px;
    }
    .response-say strong {
      font-weight: 600;
    }
    .response-select {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 0.8em;
      color: #666;
      cursor: pointer;
    }
    .response-select input {
      cursor: pointer;
    }

    /* æˆ‘çš„ååº”é€‰æ‹© */
    .reaction-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 12px;
      margin: 20px 0;
    }
    .reaction-card {
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      padding: 12px 15px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    .reaction-card:hover {
      background: #e9ecef;
    }
    .reaction-card.selected {
      background: #e8f5e9;
      border-color: #4caf50;
    }
    .reaction-checkbox {
      width: 20px;
      height: 20px;
      cursor: pointer;
      margin-top: 2px;
    }
    .reaction-text {
      font-size: 0.95em;
      color: #333;
      flex: 1;
      cursor: pointer;
      line-height: 1.5;
    }
    .reaction-label-main {
      font-weight: 600;
    }
    .reaction-label-sub {
      font-size: 0.86em;
      color: #666;
      margin-top: 2px;
      display: block;
    }

    /* é¼“åŠ±ä¿¡æ¯ */
    .encouragement-box {
      background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      border-left: 5px solid #ff9800;
    }
    .encouragement-title {
      font-size: 1.2em;
      font-weight: bold;
      color: #e65100;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .encouragement-content {
      font-size: 1em;
      line-height: 1.7;
      color: #555;
    }
    .encouragement-highlight {
      font-weight: 600;
      margin-bottom: 6px;
    }

    textarea {
      width: 100%;
      min-height: 80px;
      border-radius: 10px;
      border: 2px solid #dfe4ea;
      padding: 12px;
      font-size: 1em;
      font-family: inherit;
      resize: vertical;
      outline: none;
    }
    textarea:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
    }

    .btn {
      padding: 12px 24px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-size: 1.05em;
      font-weight: bold;
      font-family: inherit;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102,126,234,0.35);
    }
    .btn-secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }
    .btn-secondary:hover {
      background: #667eea;
      color: white;
    }
    .btn-danger {
      background: #fff5f5;
      color: #e53935;
      border: 1px solid #ffcdd2;
    }
    .btn-danger:hover {
      background: #ffcdd2;
      color: #b71c1c;
    }
    .btn-large {
      padding: 16px 32px;
      font-size: 1.2em;
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      margin-top: 25px;
    }

    .section-card {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 20px;
    }
    
    .section-title {
      font-size: 1.4em;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-subtitle {
      font-size: 0.9em;
      color: #777;
      margin-bottom: 10px;
      font-style: italic;
    }

    .hint-text {
      font-size: 0.9em;
      color: #666;
      margin-top: 8px;
      font-style: italic;
    }

    .note-box {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      padding: 20px;
      margin-top: 15px;
      min-height: 150px;
      white-space: pre-wrap;
      line-height: 1.8;
      font-size: 1em;
      color: #333;
    }
    .note-placeholder {
      color: #999;
      font-style: italic;
    }
    .copy-hint {
      margin-top: 8px;
      font-size: 0.85em;
      color: #2e7d32;
      min-height: 1.2em;
    }

    /* æ¯å‘¨å›é¡¾ */
    .history-summary {
      background: #f0f4ff;
      border-radius: 12px;
      padding: 15px 18px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
      font-size: 0.96em;
      color: #34495e;
      line-height: 1.6;
    }
    .history-item {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      border-left: 5px solid #667eea;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      flex-wrap: wrap;
      gap: 10px;
    }
    .history-date {
      font-weight: bold;
      color: #667eea;
      font-size: 1.05em;
    }
    .history-scenario {
      background: #f0f4ff;
      padding: 5px 12px;
      border-radius: 15px;
      font-size: 0.9em;
      color: #667eea;
    }
    .history-content {
      font-size: 0.95em;
      line-height: 1.6;
      color: #555;
    }
    .empty-history {
      text-align: center;
      padding: 40px;
      color: #999;
    }
    .empty-history-icon {
      font-size: 4em;
      margin-bottom: 15px;
    }

    /* å‚è€ƒæ–‡çŒ® */
    .reference-section {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 25px;
      margin-top: 30px;
      border-left: 5px solid #607d8b;
    }
    .reference-title {
      font-size: 1.2em;
      font-weight: bold;
      color: #37474f;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .reference-list {
      font-size: 0.9em;
      line-height: 1.8;
      color: #555;
    }
    .reference-item {
      margin-bottom: 12px;
      padding-left: 20px;
      text-indent: -20px;
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.6em;
      }
      .header .subtitle {
        font-size: 0.98em;
      }
      .scenario-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .step-indicator {
        padding: 15px 10px;
      }
      .step-dot {
        width: 35px;
        height: 35px;
        font-size: 1em;
      }
      .tab-button {
        font-size: 0.9em;
        padding: 12px 8px;
      }
      .reaction-options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>ğŸ¯ äº²å­æƒ…ç»ªç¿»è¯‘æœº</h1>
    <p class="subtitle">
      èŠ± 3 åˆ†é’Ÿï¼Œå¸®ä½ æŠŠã€Œä»Šå¤©ç‰¹åˆ«å´©æºƒçš„ä¸€å¹•ã€ç¿»æˆï¼š
      <br>å­©å­å¿ƒé‡Œåœ¨æƒ³ä»€ä¹ˆ + æˆ‘åˆšåˆšå…¶å®æ€ä¹ˆäº† + ä¸‹æ¬¡å¯ä»¥è¯•çš„ä¸€ä¸¤å¥è¯ã€‚
      <span>ä¸éœ€è¦å®Œç¾ï¼Œåªè¦æ„¿æ„çœ‹è§è‡ªå·±å’Œå­©å­ï¼Œä½ å·²ç»åœ¨è¿›æ­¥ã€‚</span>
    </p>
  </div>

  <div class="tab-navigation">
    <button class="tab-button active" onclick="switchTab('translate')">ğŸ¯ ç¿»è¯‘ä»Šå¤©çš„æƒ…å†µ</button>
    <button class="tab-button" onclick="switchTab('note')">ğŸ“ ç”Ÿæˆä»Šå¤©çš„å°è®°å½•</button>
    <button class="tab-button" onclick="switchTab('history')">ğŸ“Š æ¯å‘¨å›é¡¾</button>
  </div>

  <!-- Tab 1: æƒ…ç»ªç¿»è¯‘ -->
  <div id="translateTab" class="tab-content active">
    <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
    <div class="step-indicator">
      <div class="step-dot active" id="stepDot1">1</div>
      <div class="step-arrow">â†’</div>
      <div class="step-dot" id="stepDot2">2</div>
      <div class="step-arrow">â†’</div>
      <div class="step-dot" id="stepDot3">3</div>
    </div>

    <!-- æ­¥éª¤1: é€‰æƒ…å¢ƒ -->
    <div id="step1" class="section-card">
      <div class="section-title">
        <span>1ï¸âƒ£</span> å­©å­å¤§æ¦‚å¤šå¤§ï¼Ÿï¼ˆå…ˆéšä¾¿é€‰ä¸€ä¸ªèŒƒå›´å°±è¡Œï¼‰
      </div>
      <p class="section-subtitle">
        ä¸ç”¨æŠ“å¾—å¾ˆå‡†ï¼Œåªè¦é€‰ä¸€ä¸ªã€Œå¤§æ¦‚çš„å¹´é¾„æ®µã€ï¼Œç¿»è¯‘ä¼šæ›´è´´è¿‘ä½ å®¶çš„æƒ…å†µã€‚
      </p>
      
      <div class="age-selector">
        <button class="age-button active" onclick="selectAge('toddler', this)">1-3å² å¹¼å„¿</button>
        <button class="age-button" onclick="selectAge('preschool', this)">3-6å² å­¦é¾„å‰</button>
        <button class="age-button" onclick="selectAge('school', this)">6-12å² å°å­¦é˜¶æ®µ</button>
      </div>

      <div class="section-title" style="margin-top: 30px;">
        ä»Šå¤©å¤§æ¦‚æ˜¯å“ªä¸€ç§æƒ…å†µï¼Ÿï¼ˆå…ˆé€‰ä¸€ä¸ªä½ æœ€æœ‰æ„Ÿè§‰çš„å°±å¥½ï¼‰
      </div>
      
      <div class="scenario-grid" id="scenarioGrid">
        <div class="scenario-card" onclick="selectScenario('separation', this)">
          <div class="scenario-icon">ğŸ«</div>
          <div class="scenario-name">ä¸Šå­¦ä¸æƒ³å»</div>
          <div class="scenario-desc">å‡ºé—¨å‰æ­»æ­»é»ç€ã€ä¸åœå“­é—¹ã€ä¸æ„¿æ„åˆ†å¼€</div>
        </div>
        <div class="scenario-card" onclick="selectScenario('public_tantrum', this)">
          <div class="scenario-icon">ğŸ›’</div>
          <div class="scenario-name">å¤–å‡ºåµé—¹</div>
          <div class="scenario-desc">åœ¨è¶…å¸‚ã€å…¬å›­ã€å…¬å…±åœºåˆå¤§å“­å¤§å«</div>
        </div>
        <div class="scenario-card" onclick="selectScenario('sibling_conflict', this)">
          <div class="scenario-icon">ğŸ‘§ğŸ‘¦</div>
          <div class="scenario-name">å…„å¼Ÿå§å¦¹åµæ¶</div>
          <div class="scenario-desc">æŠ¢ç©å…·ã€äº’ç›¸å‘ŠçŠ¶ã€è§‰å¾—ä¸å…¬å¹³</div>
        </div>
        <div class="scenario-card" onclick="selectScenario('bedtime', this)">
          <div class="scenario-icon">ğŸŒ™</div>
          <div class="scenario-name">ä¸è‚¯ç¡è§‰</div>
          <div class="scenario-desc">è¯´è¿˜è¦ç©ã€å–Šè‡ªå·±ä¸å›°ã€ä¸€ç›´æ‹–åˆ°å¾ˆæ™š</div>
        </div>
        <div class="scenario-card" onclick="selectScenario('transition', this)">
          <div class="scenario-icon">â±ï¸</div>
          <div class="scenario-name">ä¸è‚¯æ”¶ç©å…·</div>
          <div class="scenario-desc">å«ä»–æ”¶ä¸œè¥¿æ—¶ï¼Œå„ç§æ‹–ã€å„ç§æ‹’ç»</div>
        </div>
        <div class="scenario-card" onclick="selectScenario('mealtime', this)">
          <div class="scenario-icon">ğŸ½ï¸</div>
          <div class="scenario-name">åƒé¥­ç£¨è¹­</div>
          <div class="scenario-desc">ä¸€è¾¹ç©ä¸€è¾¹åƒã€åƒå¾—è¶…æ…¢ã€è¯´è‡ªå·±ä¸é¥¿</div>
        </div>
        <!-- æ–°å¢ï¼šå…¶ä»– / ä»Šå¤©åªæ˜¯å¾ˆå´©æºƒ -->
        <div class="scenario-card" onclick="selectScenario('other', this)">
          <div class="scenario-icon">ğŸ˜µ</div>
          <div class="scenario-name">è¯´ä¸æ¸…ï¼Œæ€»ä¹‹ä»Šå¤©å¾ˆå´©æºƒ</div>
          <div class="scenario-desc">æƒ…å†µä¸åœ¨ä¸Šé¢ï¼Œæˆ–è€…ä¸€æ¬¡å¾ˆå¤šäº‹å åœ¨ä¸€èµ·</div>
        </div>
      </div>

      <div style="margin-top: 25px;">
        <label style="font-weight: bold; color: #333; margin-bottom: 8px; display: block;">
          æƒ³ç®€å•å†™ä¸€ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆå—ï¼Ÿï¼ˆé€‰å¡«ï¼‰
        </label>
        <textarea id="scenarioText" placeholder="æ¯”å¦‚ï¼šä»Šå¤©ä¸€è¯´è¦å‡ºé—¨ä»–å°±å¼€å§‹å¤§å“­ï¼Œåæ¥æˆ‘ä¹Ÿå¾ˆç”Ÿæ°”ï¼Œå¼äº†ä»–ä¸€é¡¿ï¼ˆä¸å†™ä¹Ÿå¯ä»¥ï¼‰"></textarea>
        <div class="hint-text">
          ä¸ä¸€å®šè¦æ‰“å­—ã€‚å¦‚æœæ„¿æ„å†™ä¸€å†™ï¼Œåé¢çš„ç¿»è¯‘ä¼šæ›´è´´è¿‘ä½ å®¶çš„æƒ…å†µã€‚
        </div>
      </div>

      <div class="button-row">
        <button class="btn btn-primary btn-large" onclick="showStep2()">
          çœ‹çœ‹å­©å­å¿ƒé‡Œåœ¨æƒ³ä»€ä¹ˆ â†’
        </button>
      </div>
    </div>

    <!-- æ­¥éª¤2: æƒ…ç»ªç¿»è¯‘ç»“æœ -->
    <div id="step2" class="section-card hidden">
      <div class="section-title">
        <span>2ï¸âƒ£</span> å¸®ä½ ç¿»è¯‘ï¼šå­©å­å¿ƒé‡Œå¯èƒ½æ˜¯è¿™æ ·
      </div>
      <p class="section-subtitle">
        ä¸‹é¢åªæ˜¯ã€Œå¯èƒ½ã€ï¼Œä¸ä»£è¡¨ä¸€å®šå…¨å¯¹ã€‚ä½ å¯ä»¥æŒ‘å‡ å¥æœ€æœ‰æ„Ÿè§‰çš„ï¼Œå½“ä½œè·Ÿå­©å­å¼€å£çš„èµ·ç‚¹ã€‚
      </p>

      <!-- å­©å­çš„æ„Ÿå— -->
      <div class="emotion-result">
        <div class="emotion-title">
          <span>ğŸ’­</span> å­©å­å¯èƒ½çš„æ„Ÿå—ï¼ˆä½ å¯ä»¥æŠŠè¿™äº›è¯è¯´ç»™ TA å¬ï¼‰
        </div>
        <div class="emotion-items" id="emotionItems"></div>
      </div>

      <!-- å­©å­çš„éœ€è¦ -->
      <div class="need-result">
        <div class="need-title">
          <span>ğŸ’š</span> å­©å­çœŸæ­£éœ€è¦çš„ï¼ˆä¸ä¸€å®šæ˜¯ã€Œå¬è¯ã€ï¼Œæ›´å¯èƒ½æ˜¯è¿™äº›ï¼‰
        </div>
        <div class="need-items" id="needItems"></div>
      </div>

      <!-- æˆ‘å¯ä»¥æ€ä¹ˆåš -->
      <div class="response-result">
        <div class="response-title">
          <span>ğŸ’¡</span> ä¸‹æ¬¡æˆ‘å¯ä»¥ç»ƒä¹ çš„ä¸€ä¸¤å¥è¯ï¼ˆå¯ä»¥å‹¾é€‰æƒ³è¯•çš„ï¼‰
        </div>
        <div id="responseItems"></div>
      </div>

      <div class="button-row">
        <button class="btn btn-secondary" onclick="showStep1()">â† è¿”å›é‡é€‰</button>
        <button class="btn btn-primary btn-large" onclick="showStep3()">è®°å½•ä¸€ä¸‹æˆ‘çš„ååº” â†’</button>
      </div>
    </div>

    <!-- æ­¥éª¤3: è®°å½•æˆ‘çš„ååº” -->
    <div id="step3" class="section-card hidden">
      <div class="section-title">
        <span>3ï¸âƒ£</span> æˆ‘åˆšåˆšæ˜¯æ€ä¹ˆååº”çš„ï¼Ÿï¼ˆå¯å¤šé€‰ï¼‰
      </div>
      <p class="section-subtitle">
        è¿™é‡Œæ²¡æœ‰å¯¹é”™ï¼Œä¹Ÿä¸æ˜¯æ‰“åˆ†æ•°ã€‚åªæ˜¯å¸®ä½ çœ‹æ¸…æ¥šï¼šæˆ‘å¹³æ—¶ä¹ æƒ¯æ€ä¹ˆå›åº”å­©å­ã€‚
      </p>

      <div class="reaction-options" id="reactionOptions">
        <div class="reaction-card" onclick="toggleReaction('raiseVoice', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_raiseVoice">
          <label class="reaction-text" for="r_raiseVoice">
            <span class="reaction-label-main">ğŸ“¢ å½“æ—¶æˆ‘æƒ…ç»ªæœ‰ç‚¹ä¸Šå¤´</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šå£°éŸ³å˜å¤§ã€å¼å«ã€è¯´è¯å£æ°”æ¯”è¾ƒå†²</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('threaten', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_threaten">
          <label class="reaction-text" for="r_threaten">
            <span class="reaction-label-main">âš ï¸ æˆ‘è¯´äº†ã€Œä½ å†â€¦æˆ‘å°±â€¦ã€ä¹‹ç±»çš„è¯</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šã€Œä½ å†å“­æˆ‘å°±ä¸å¸¦ä½ å»äº†ã€ã€Œä¸å¬è¯å°±æŠŠç©å…·éƒ½æ”¶èµ°ã€</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('giveUp', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_giveUp">
          <label class="reaction-text" for="r_giveUp">
            <span class="reaction-label-main">ğŸ¤· åé¢æˆ‘å…ˆå¦¥å / æ”¾å¼ƒåšæŒ</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šç®—äº†éšä¾¿ä»–ã€å…ˆç­”åº”å­©å­ã€ä»¥åå†è¯´</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('cold', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_cold">
          <label class="reaction-text" for="r_cold">
            <span class="reaction-label-main">ğŸ§Š æˆ‘å…ˆé€‰æ‹©ä¸ç†ä»–ä¸€ä¼šå„¿</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šå†·å¤„ç†ã€æ•…æ„ä¸å›åº”ã€å…ˆè®©å½¼æ­¤å†·é™ä¸€ä¸‹</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('compare', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_compare">
          <label class="reaction-text" for="r_compare">
            <span class="reaction-label-main">ğŸ‘¥ æˆ‘æ‹¿ TA å’Œåˆ«äººæ¯”è¾ƒ</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šã€Œä½ çœ‹çœ‹äººå®¶éƒ½å¯ä»¥ã€ã€Œå¼Ÿå¼Ÿéƒ½åšå¾—åˆ°ã€</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('label', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_label">
          <label class="reaction-text" for="r_label">
            <span class="reaction-label-main">ğŸ·ï¸ æˆ‘ç»™ TA è´´äº†ä¸€äº›æ ‡ç­¾</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šã€Œä½ å°±æ˜¯å¾ˆæ‡’ã€ã€Œä½ æ€ä¹ˆè€æ˜¯è¿™æ ·ã€</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('empathy', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_empathy">
          <label class="reaction-text" for="r_empathy">
            <span class="reaction-label-main">ğŸ’™ æˆ‘æœ‰å…ˆè¯´å‡º TA çš„æ„Ÿå—</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šã€Œä½ ç°åœ¨å¾ˆç”Ÿæ°”å¯¹ä¸å¯¹ã€ã€Œä½ å…¶å®å¾ˆèˆä¸å¾—ã€</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('boundary', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_boundary">
          <label class="reaction-text" for="r_boundary">
            <span class="reaction-label-main">ğŸ¯ æˆ‘æœ‰æ¸©å’Œä½†åšå®šåœ°è¯´æ¸…ç•Œé™</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šã€Œæˆ‘çŸ¥é“ä½ ä¸æƒ³ï¼Œå¯æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¾—â€¦â€¦ã€</span>
          </label>
        </div>
        <div class="reaction-card" onclick="toggleReaction('repair', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_repair">
          <label class="reaction-text" for="r_repair">
            <span class="reaction-label-main">ğŸ¤ äº‹åæˆ‘æœ‰å°è¯•ä¿®å¤å…³ç³»</span>
            <span class="reaction-label-sub">æ¯”å¦‚ï¼šæœ‰é“æ­‰ã€æœ‰æŠ±æŠ±ã€æœ‰å¥½å¥½èŠä¸€èŠ</span>
          </label>
        </div>
        <!-- çœŸå®ä½†å¸¸è§çš„çŠ¶æ€ -->
        <div class="reaction-card" onclick="toggleReaction('tiredBlank', this, event)">
          <input type="checkbox" class="reaction-checkbox" id="r_tiredBlank">
          <label class="reaction-text" for="r_tiredBlank">
            <span class="reaction-label-main">ğŸ˜µ æˆ‘è‡ªå·±ä¹Ÿå¾ˆç´¯ï¼Œè„‘å­ä¸€ç‰‡ç©ºç™½</span>
            <span class="reaction-label-sub">å½“æ—¶åªæƒ³èµ¶ç´§ç»“æŸè¿™å›åˆï¼Œå·²ç»æ²¡åŠ›æ°”å¤šæƒ³äº†</span>
          </label>
        </div>
      </div>

      <div class="button-row">
        <button class="btn btn-secondary" onclick="showStep2()">â† ä¸Šä¸€æ­¥</button>
        <button class="btn btn-primary btn-large" onclick="goToNote()">å®Œæˆ â†’ çœ‹ä»Šå¤©è®°å½•</button>
      </div>
    </div>
  </div>

  <!-- Tab 2: ç”Ÿæˆè®°å½• -->
  <div id="noteTab" class="tab-content">
    <div class="section-card">
      <div class="section-title">
        <span>ğŸ“</span> ä»Šå¤©çš„å…»è‚²å°è®°å½•
      </div>
      
      <p style="color: #666; margin-bottom: 15px;">
        è¿™æ˜¯æ ¹æ®ä½ åˆšåˆšçš„é€‰æ‹©è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å¯ä»¥å¤åˆ¶åˆ°å¾®ä¿¡ã€å¤‡å¿˜å½•ï¼Œæˆ–è€…å‘ç»™å¦ä¸€åŠï¼Œä¸€èµ·å½“ä½œã€Œç»ƒä¹ è®°å½•ã€ã€‚
      </p>

      <div class="note-box" id="noteBox">
        <span class="note-placeholder">å®Œæˆå·¦è¾¹çš„ 3 ä¸ªæ­¥éª¤åï¼Œè¿™é‡Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€æ®µç®€çŸ­è®°å½•ã€‚</span>
      </div>

      <!-- é¼“åŠ±ä¿¡æ¯åŒºåŸŸ -->
      <div id="encouragementSection"></div>

      <div class="button-row">
        <button class="btn btn-primary" onclick="regenerateNote()">ğŸ”„ é‡æ–°ç”Ÿæˆè®°å½•</button>
        <button class="btn btn-secondary" onclick="copyNote()">ğŸ“‹ å¤åˆ¶è®°å½•</button>
      </div>
      <div id="copyHint" class="copy-hint"></div>
    </div>

    <div class="section-card" style="background: #e8f5e9; border-left: 5px solid #4caf50;">
      <div class="section-title" style="color: #2e7d32;">
        <span>ğŸ’¡</span> å°æé†’
      </div>
      <ul style="padding-left: 25px; line-height: 1.8; color: #444; font-size: 0.96em;">
        <li>ä¸éœ€è¦æŠŠæ¯ä¸€ä»¶äº‹éƒ½å¤„ç†å¾—å®Œç¾ï¼Œé‡ç‚¹æ˜¯ä½ æ„¿æ„åœä¸‹æ¥çœ‹çœ‹ã€Œåˆšåˆšåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€ã€‚</li>
        <li>ä¸€å‘¨å›é¡¾ä¸€æ¬¡ï¼Œä½ ä¼šå‘ç°ï¼šå…¶å®è‡ªå·±å·²ç»è·Ÿä»¥å‰ä¸å¤ªä¸€æ ·äº†ã€‚</li>
        <li>ä¹Ÿå¯ä»¥è¯·å¦ä¸€åŠä¸€èµ·çœ‹è¿™äº›è®°å½•ï¼Œæ…¢æ…¢å˜æˆä½ ä»¬çš„ã€Œå°é»˜å¥‘ç¬”è®°ã€ã€‚</li>
      </ul>
    </div>

    <!-- å‚è€ƒæ–‡çŒ®ï¼ˆAPA 7thï¼‰-->
    <div class="reference-section">
      <div class="reference-title">
        <span>ğŸ“š</span> è¿™ä¸ªå°å·¥å…·èƒŒåå‚è€ƒçš„å¿ƒç†å­¦ä¸å…»è‚²ç ”ç©¶
      </div>
      <div class="reference-list">
        <div class="reference-item">
          Cooper, G., Hoffman, K., Powell, B., &amp; Marvin, R. (2005). The Circle of Security intervention: Differential diagnosis and differential treatment. In L. J. Berlin, Y. Ziv, L. Amaya-Jackson, &amp; M. T. Greenberg (Eds.), <i>Enhancing early attachments: Theory, research, intervention, and policy</i> (pp. 127â€“151). Guilford Press.
        </div>
        <div class="reference-item">
          Faber, A., &amp; Mazlish, E. (2012). <i>How to talk so kids will listen &amp; listen so kids will talk</i>. Scribner. (Original work published 1980)
        </div>
        <div class="reference-item">
          Gottman, J. M., Katz, L. F., &amp; Hooven, C. (1997). <i>Meta-emotion: How families communicate emotionally</i>. Lawrence Erlbaum Associates.
        </div>
        <div class="reference-item">
          Kennedy-Moore, E., &amp; Lowenthal, M. S. (2011). <i>Smart parenting for smart kids: Nurturing your child&#39;s true potential</i>. Jossey-Bass.
        </div>
        <div class="reference-item">
          Neff, K. D., &amp; Faso, D. J. (2015). Self-compassion and well-being in parents of children with autism. <i>Mindfulness, 6</i>(4), 938â€“947. https://doi.org/10.1007/s12671-014-0322-0
        </div>
        <div class="reference-item">
          Siegel, D. J., &amp; Bryson, T. P. (2011). <i>The whole-brain child: 12 revolutionary strategies to nurture your child&#39;s developing mind</i>. Delacorte Press.
        </div>
      </div>
    </div>
  </div>

  <!-- Tab 3: æ¯å‘¨å›é¡¾ -->
  <div id="historyTab" class="tab-content">
    <div class="section-card">
      <div class="section-title">
        <span>ğŸ“Š</span> è¿‡å» 7 å¤©çš„ä¸€ç‚¹å°è§‚å¯Ÿ
      </div>

      <div id="historySummary" class="history-summary hidden"></div>
      
      <div id="historyList">
        <div class="empty-history">
          <div class="empty-history-icon">ğŸ“­</div>
          <p>è¿˜æ²¡æœ‰è®°å½•ï¼Œå®Œæˆä¸€æ¬¡æƒ…ç»ªç¿»è¯‘åå°±ä¼šå‡ºç°åœ¨è¿™é‡Œã€‚</p>
          <p style="font-size: 0.9em; color: #999; margin-top: 8px;">å…ˆä»ä»Šå¤©ä½ æœ€æƒ³è®°å½•çš„ä¸€ä»¶äº‹å¼€å§‹å°±å¥½ã€‚</p>
        </div>
      </div>

      <div class="button-row" style="margin-top: 10%;">
        <button class="btn btn-danger" onclick="clearAllRecords()">ğŸ§¹ æ¸…ç©ºæ‰€æœ‰è®°å½•</button>
      </div>
    </div>
  </div>
</div>

<script>
  // === æ•°æ®åº“ï¼ˆæŒ‰å¹´é¾„è°ƒæ•´çš„æƒ…ç»ªç¿»è¯‘ï¼‰===
  const scenarioTemplates = {
    separation: {
      name: 'ä¸Šå­¦ä¸æƒ³å»',
      icon: 'ğŸ«',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜¨', text: 'æ‹…å¿ƒçˆ¸çˆ¸å¦ˆå¦ˆä¼šä¸è§', keywords: ['å“­', 'æŠ±', 'ä¸æ”¾æ‰‹', 'å¦ˆå¦ˆ', 'çˆ¸çˆ¸'], phrase: 'ã€Œä½ æ˜¯ä¸æ˜¯å¾ˆæ€•å¦ˆå¦ˆä¸€èµ°ï¼Œå°±å†ä¹Ÿçœ‹ä¸åˆ°æˆ‘äº†ï¼Ÿã€' },
            { emoji: 'ğŸ˜¢', text: 'æä¸æ‡‚ä¸ºä»€ä¹ˆè¦åˆ†å¼€', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸è¦', 'ä¸æƒ³'], phrase: 'ã€Œä½ æä¸æ‡‚ä¸ºä»€ä¹ˆä¸€å®šè¦åˆ†å¼€ï¼Œå¿ƒé‡Œå¾ˆéš¾å—ã€‚ã€' },
            { emoji: 'ğŸ˜°', text: 'å‘¨å›´äººå¤ªé™Œç”Ÿï¼Œå¾ˆç´§å¼ ', keywords: ['é™Œç”Ÿ', 'ä¸è®¤è¯†', 'ä¸ç†Ÿæ‚‰'], phrase: 'ã€Œè¿™é‡Œæœ‰å¾ˆå¤šä½ ä¸ç†Ÿæ‚‰çš„äººï¼Œä¼šè®©ä½ è§‰å¾—æœ‰ç‚¹æ€•ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ›¡ï¸', text: 'éœ€è¦è¢«æŠ±ç´§ã€è¢«å®‰æŠš', keywords: ['æŠ±', 'å“­', 'é»'], phrase: 'å¯ä»¥å¤šæŠ±ä¸€ä¼šå„¿ï¼Œè®©ä»–èº«ä½“å…ˆæ„Ÿè§‰åˆ°å®‰å…¨ã€‚' },
            { emoji: 'ğŸ’•', text: 'éœ€è¦åå¤ç¡®è®¤ä½ ä¼šå›æ¥', keywords: ['å›æ¥', 'æ¥', 'ä¼šä¸ä¼š'], phrase: 'ä¸€éä¸€éè·Ÿä»–è¯´ï¼šã€Œå¦ˆå¦ˆä¸€å®šä¼šå›æ¥æ¥ä½ ã€‚ã€' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦å›ºå®šçš„ã€Œå‘Šåˆ«å°ä»ªå¼ã€', keywords: ['å†è§', 'æ‹œæ‹œ', 'èµ°'], phrase: 'æ¯”å¦‚ï¼šæ¯æ¬¡å‡ºé—¨å‰éƒ½æ¥ä¸€ä¸ªã€ŒæŠ±æŠ± + å‡»æŒ + è¯´å†è§ã€ã€‚' }
          ],
          responses: [
            { main: 'å…ˆç”¨èº«ä½“å®‰æŠšï¼Œå†è¯´æ˜ä½ ä¼šå›æ¥æ¥ä»–ã€‚', say: 'ã€Œå¦ˆå¦ˆå…ˆæŠ±æŠ±ä½ ä¸€ä¸‹ï¼Œä¸€ä¼šå„¿å¦ˆå¦ˆè¦å»ä¸Šç­ï¼Œä¸‹åˆå¤ªé˜³å¿«ä¸‹å±±çš„æ—¶å€™å°±ä¼šæ¥æ¥ä½ ã€‚ã€' },
            { main: 'æŠŠæ—¶é—´å˜å¾—ã€Œçœ‹å¾—è§ã€ã€‚', say: 'ã€Œä½ çœ‹è¿™ä¸ªæŒ‡é’ˆåˆ°äº†è¿™é‡Œï¼Œå¦ˆå¦ˆå°±ä¼šå‡ºç°åœ¨é—¨å£ï¼Œä½ å¯ä»¥åœ¨å¿ƒé‡Œå¸®æˆ‘æ•°ã€‚ã€' },
            { main: 'åšä¸€ä¸ªå›ºå®šçš„åˆ†ç¦»å°ä»ªå¼ã€‚', say: 'ã€Œæˆ‘ä»¬æ¥å‡»æŒä¸‰ä¸‹ï¼Œç„¶åè¯´ï¼šå¦ˆå¦ˆä¸€ä¼šå„¿å°±å›æ¥ã€‚å‡»å®ŒæŒå¦ˆå¦ˆå°±è¦å‡ºé—¨å•¦ã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜¨', text: 'æ‹…å¿ƒçˆ¸å¦ˆä¼šä¸ä¼šå¿˜è®°æ¥æ¥', keywords: ['æ¥', 'å›æ¥', 'å¿˜è®°', 'ä¼šä¸ä¼š'], phrase: 'ã€Œä½ æ˜¯ä¸æ˜¯åœ¨æƒ³ï¼šä¼šä¸ä¼šæ²¡äººæ¥æ¥æˆ‘ï¼Ÿã€' },
            { emoji: 'ğŸ˜¢', text: 'èˆä¸å¾—ç¦»å¼€å®¶é‡Œçš„èˆ’æœæ„Ÿ', keywords: ['ä¸æƒ³', 'åœ¨å®¶', 'ç¦»å¼€'], phrase: 'ã€Œä½ åœ¨å®¶é‡Œå¾ˆèˆ’æœï¼Œçªç„¶è¦å‡ºé—¨ï¼Œå¿ƒé‡Œå¾ˆèˆä¸å¾—ã€‚ã€' },
            { emoji: 'ğŸ˜°', text: 'å¯¹åˆ†ç¦»æ„Ÿåˆ°ç´§å¼ ', keywords: ['ç´§å¼ ', 'ä¸æƒ³å»', 'å®³æ€•'], phrase: 'ã€Œè¦è·Ÿçˆ¸çˆ¸å¦ˆå¦ˆåˆ†å¼€çš„æ—¶å€™ï¼Œä½ å¿ƒé‡Œä¼šç´§ç´§çš„ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ›¡ï¸', text: 'éœ€è¦æ¸…æ¥šçŸ¥é“ä»€ä¹ˆæ—¶å€™å†è§åˆ°ä½ ', keywords: ['ä»€ä¹ˆæ—¶å€™', 'å¤šä¹…', 'å‡ ç‚¹'], phrase: 'ç”¨ã€Œæ—¶é—´ç‚¹ + å‡ºç°çš„åœ°ç‚¹ã€è®²æ¸…æ¥šã€‚' },
            { emoji: 'ğŸ’•', text: 'éœ€è¦å¸¦ä¸€ä»¶ã€Œå¦ˆå¦ˆçš„ä¸œè¥¿ã€å»', keywords: ['å¸¦', 'è¦', 'ä¸œè¥¿'], phrase: 'æ¯”å¦‚å¸¦ä½ çš„æ‰‹å¸•ã€ç…§ç‰‡æˆ–è€…ä¸€ä¸ªå°ç©å¶ã€‚' },
            { emoji: 'ğŸ“…', text: 'éœ€è¦æ—©ä¸Šå‡ºé—¨åˆ«å¤ªèµ¶', keywords: ['èµ¶', 'æ¥ä¸åŠ', 'å¿«ç‚¹'], phrase: 'ç•™ä¸€ç‚¹ã€Œæœ‰ä½™åœ°çš„ç›¸å¤„æ—¶é—´ã€ï¼Œä¸è¦å…¨ç¨‹éƒ½åœ¨èµ¶ã€‚' }
          ],
          responses: [
            { main: 'å…ˆè¯´å‡ºä»–çš„èˆä¸å¾—å’Œç´§å¼ ã€‚', say: 'ã€Œä½ ç°åœ¨å¾ˆèˆä¸å¾—ï¼Œåˆæœ‰ç‚¹ç´§å¼ ï¼Œå¿ƒé‡Œè‚¯å®šä¸å¤ªèˆ’æœã€‚ã€' },
            { main: 'ç»™ä»–ä¸€ä¸ªå¯ä»¥å¸¦èµ°çš„å®‰å…¨æ„Ÿã€‚', say: 'ã€Œä½ æƒ³å¸¦å¦ˆå¦ˆçš„æ‰‹å¸•ï¼Œè¿˜æ˜¯è¿™ä¸ªå°ç©å¶å»å­¦æ ¡ï¼Ÿå®ƒä»¬ä¼šé™ªä½ ï¼Œç›´åˆ°æˆ‘æ¥æ¥ä½ ã€‚ã€' },
            { main: 'æ¸…æ¥šçº¦å®šæ¥ä»–çš„æ—¶é—´å’Œæ–¹å¼ã€‚', say: 'ã€Œç­‰å¢™ä¸Šçš„å¤§é’ŸæŒ‡åˆ° 3 ç‚¹ï¼Œå¦ˆå¦ˆå°±ä¼šåœ¨é—¨å£ç­‰ä½ ï¼Œæˆ‘ä»¬å†æ¥å‡»ä¸€ä¸‹æŒå½“çº¦å®šã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜Ÿ', text: 'æ‹…å¿ƒå’ŒåŒå­¦ç›¸å¤„', keywords: ['æœ‹å‹', 'åŒå­¦', 'ä¸å–œæ¬¢', 'æ’æŒ¤'], phrase: 'ã€Œæ˜¯ä¸æ˜¯è·ŸåŒå­¦ç›¸å¤„æœ€è¿‘è®©ä½ è§‰å¾—å¾ˆåˆ«æ‰­ï¼Ÿã€' },
            { emoji: 'ğŸ˜”', text: 'è§‰å¾—å­¦ä¹ å‹åŠ›å¾ˆå¤§', keywords: ['ä½œä¸š', 'è€ƒè¯•', 'ä¸ä¼š', 'åŠŸè¯¾'], phrase: 'ã€ŒåŠŸè¯¾å’Œè€ƒè¯•å¥½å¤šï¼Œä½ æ˜¯ä¸æ˜¯ä¼šè§‰å¾—æœ‰ç‚¹å–˜ä¸è¿‡æ°”ï¼Ÿã€' },
            { emoji: 'ğŸ˜¤', text: 'ç”Ÿæ°”ä¸ºä»€ä¹ˆä¸€å®šè¦å»å­¦æ ¡', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸æƒ³å»', 'ä¸è¦'], phrase: 'ã€Œä½ å¯èƒ½ä¼šæƒ³ï¼šä¸ºä»€ä¹ˆæ¯å¤©éƒ½è¦å»å­¦æ ¡ï¼Œå¥½çƒ¦ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ‘‚', text: 'éœ€è¦æœ‰äººå¬ä»–è®²ã€Œæœ€è¿‘å‘ç”Ÿäº†ä»€ä¹ˆã€', keywords: ['å‘ç”Ÿ', 'è€å¸ˆè¯´', 'åŒå­¦'], phrase: 'æœ‰ä¸€æ®µå®‰å…¨çš„æ—¶é—´ï¼Œå¯ä»¥æ…¢æ…¢è®²ï¼Œä¸è¢«æ‰“æ–­ã€‚' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦ä¸€èµ·è§£å†³å…·ä½“å›°éš¾ï¼Œè€Œä¸æ˜¯åªå¬ã€Œä½ è¦åšå¼ºã€', keywords: ['æ€ä¹ˆåŠ', 'ä¸€ç›´', 'å¥½éš¾'], phrase: 'å¯ä»¥ä¸€èµ·æƒ³å…·ä½“åšæ³•ï¼Œè€Œä¸æ˜¯åªæœ‰ã€Œä½ è¦åŠ æ²¹ã€ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦è¢«ç†è§£ã€Œä¸æ˜¯æˆ‘ä¸æƒ³åŠªåŠ›ã€', keywords: ['å¾ˆéš¾', 'ä¸ä¼š', 'åŠªåŠ›'], phrase: 'å…ˆå¬è§ä»–çš„è¾›è‹¦ï¼Œè€Œä¸æ˜¯åªçœ‹ç»“æœã€‚' }
          ],
          responses: [
            { main: 'å…ˆé‚€è¯·ä»–è®²è®²æœ€è¿‘å‘ç”Ÿçš„äº‹ï¼Œè€Œä¸æ˜¯é©¬ä¸Šè®²é“ç†ã€‚', say: 'ã€Œæœ€è¿‘æ˜¯ä¸æ˜¯æœ‰å‘ç”Ÿä»€ä¹ˆäº‹ï¼Œè®©ä½ ç‰¹åˆ«ä¸æƒ³å»å­¦æ ¡ï¼Ÿæˆ‘æƒ³å¬å¬çœ‹ã€‚ã€' },
            { main: 'æŠŠã€Œä¸€èµ·æƒ³åŠæ³•ã€è¯´å‡ºå£ã€‚', say: 'ã€Œå¦‚æœåŒå­¦ä¸€ç›´è¿™æ ·å¯¹ä½ ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰å“ªäº›åšæ³•ï¼Ÿä¸€èµ·æ¥æƒ³ä¸‰ä¸ªè¯•è¯•çœ‹ã€‚ã€' },
            { main: 'è‚¯å®šä»–çš„åŠªåŠ›å’Œå‹åŠ›æ„Ÿã€‚', say: 'ã€ŒåŠŸè¯¾çœŸçš„å¾ˆå¤šï¼Œä¹Ÿå¾ˆéš¾ã€‚ä½ è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨æ’‘ç€ï¼Œæˆ‘éƒ½çœ‹åœ¨çœ¼é‡Œã€‚ã€' }
          ]
        }
      }
    },
    public_tantrum: {
      name: 'å¤–å‡ºåµé—¹',
      icon: 'ğŸ›’',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜ ', text: 'çœ‹åˆ°æƒ³è¦çš„å°±å¿…é¡»é©¬ä¸Šå¾—åˆ°', keywords: ['è¦', 'æ‹¿', 'ä¹°', 'ç»™æˆ‘'], phrase: 'ã€Œä½ çœ‹åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œå°±è¶…æƒ³ç°åœ¨é©¬ä¸Šæ‹¿åˆ°æ‰‹ã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'å¬ä¸æ‡‚ä¸ºä»€ä¹ˆä¸è¡Œ', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸è¡Œ', 'ä¸å¯ä»¥'], phrase: 'ã€Œä½ ä¼šæƒ³ï¼šä¸ºä»€ä¹ˆä¸å¯ä»¥ï¼Ÿæˆ‘ä¸æ‡‚ï¼Œåªè§‰å¾—å¾ˆç”Ÿæ°”ã€‚ã€' },
            { emoji: 'ğŸ˜«', text: 'åˆç´¯åˆé¥¿ã€ç¯å¢ƒå¤ªåµ', keywords: ['ç´¯', 'é¥¿', 'å¾ˆå¤šäºº', 'åµ'], phrase: 'ã€Œè¿™é‡Œäººå¾ˆå¤šã€å£°éŸ³ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä½ æœ‰ç‚¹ç´¯ï¼Œæ‰€ä»¥æƒ…ç»ªä¸€ä¸‹å°±çˆ†äº†ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ¼', text: 'å¯èƒ½çœŸçš„æ˜¯é¥¿äº† / å›°äº† / å£æ¸´', keywords: ['é¥¿', 'æ¸´', 'ç´¯', 'æƒ³ç¡'], phrase: 'å…ˆç…§é¡¾èº«ä½“ï¼Œæ¯”è¦æ±‚ã€Œä¹–ä¸€ç‚¹ã€æ›´é‡è¦ã€‚' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦åˆçŸ­åˆæ¸…æ¥šçš„è§„åˆ™', keywords: ['å¯ä»¥', 'ä¸è¡Œ', 'è§„åˆ™'], phrase: 'ç”¨ä¸€ä¸¤å¥è¯´æ¸…æ¥šï¼Œè®²å¤ªå¤šåè€Œæ›´ä¹±ã€‚' },
            { emoji: 'â°', text: 'éœ€è¦æå‰é¢„å‘Šã€Œå¿«è¦èµ°äº†ã€', keywords: ['èµ°', 'å›å®¶', 'è¦ç¦»å¼€'], phrase: 'è®©ä»–æœ‰ç‚¹å¿ƒç†å‡†å¤‡ï¼Œè€Œä¸æ˜¯çªç„¶è¢«ä¸­æ–­ã€‚' }
          ],
          responses: [
            { main: 'å…ˆçœ‹æ˜¯ä¸æ˜¯é¥¿äº†æˆ–å¤ªç´¯ï¼Œå†è°ˆè§„çŸ©ã€‚', say: 'ã€Œä½ æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤ªç´¯ / å¤ªé¥¿äº†ï¼Ÿæˆ‘ä»¬å…ˆå–å£æ°´ï¼Œå†æ…¢æ…¢è¯´ã€‚ã€' },
            { main: 'ç”¨ç®€å•çš„ä¸€ä¸¤å¥è¯è¯´æ˜ä»Šå¤©ä¸ä¹°çš„åŸå› ã€‚', say: 'ã€Œè¿™ä¸ªæˆ‘ä»¬ä»Šå¤©ä¸ä¹°ï¼Œä»Šå¤©åªä¹°æ™šé¥­è¦åƒçš„ä¸œè¥¿ã€‚ã€' },
            { main: 'ç»™ä¸€ä¸ªå°ä»»åŠ¡ï¼Œè½¬ç§»æ³¨æ„åŠ›ã€‚', say: 'ã€Œä½ å¯ä»¥å¸®å¦ˆå¦ˆæ‰¾ä¸€æ‰¾çº¢è‰²çš„è‹¹æœåœ¨å“ªå—ï¼Ÿä½ æ¥å½“ä»Šå¤©çš„å°å¸®æ‰‹ã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜ ', text: 'å¾ˆæƒ³è¦å´è¢«æ‹’ç»çš„æ„¤æ€’', keywords: ['è¦', 'ä¹°', 'æƒ³è¦'], phrase: 'ã€Œä½ çœŸçš„ã€çœŸçš„å¾ˆæƒ³è¦ï¼Œç»“æœè¢«è¯´ä¸è¡Œï¼Œè¶…çº§ä¸ç”˜å¿ƒã€‚ã€' },
            { emoji: 'ğŸ˜”', text: 'è§‰å¾—ä¸å…¬å¹³ï¼Œå¾ˆå¤±æœ›', keywords: ['ä¸ºä»€ä¹ˆä¸è¡Œ', 'ä¸å…¬å¹³', 'å¤±æœ›'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šåˆ«äººéƒ½æœ‰ï¼Œä¸ºä»€ä¹ˆæˆ‘å°±ä¸è¡Œï¼Ÿã€' },
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—å¤§äººæ ¹æœ¬ä¸æ‡‚æˆ‘', keywords: ['ä½ éƒ½', 'ä¸æ‡‚', 'ä¸çŸ¥é“'], phrase: 'ã€Œä½ å¯èƒ½ä¼šè§‰å¾—ï¼šå¤§äººæ ¹æœ¬ä¸æ‡‚æˆ‘æœ‰å¤šæƒ³è¦ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ‘‚', text: 'éœ€è¦è¢«çœ‹åˆ°ã€Œæˆ‘çœŸçš„å¾ˆæƒ³è¦ã€', keywords: ['æƒ³', 'å¾ˆæƒ³', 'æƒ³è¦'], phrase: 'å…ˆæ‰¿è®¤ä»–çš„ã€Œå¾ˆæƒ³è¦ã€ï¼Œå†è®²è§„åˆ™ï¼Œæ¯”ç›´æ¥è¯´æ•™æœ‰ç”¨ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦æ¸…æ¥šåˆç¨³å®šçš„è§„åˆ™', keywords: ['å¯ä»¥å—', 'ä¸ºä»€ä¹ˆ', 'è§„åˆ™'], phrase: 'åŒä¸€å¥—åŸåˆ™å¤§å¤šæ•°æ—¶å€™ä¸€æ ·ï¼Œæ¯”æ¯æ¬¡çœ‹å¿ƒæƒ…æ›´è®©ä»–å®‰å¿ƒã€‚' },
            { emoji: 'ğŸ¤', text: 'éœ€è¦åœ¨ä¼—äººé¢å‰ä¹Ÿè¢«å°Šé‡', keywords: ['å¤§å®¶', 'çœ‹', 'åˆ«äºº'], phrase: 'è¢«å½“ä¼—éª‚ä¼šè®©ä»–æ›´å¤±æ§ï¼Œä¹Ÿä¼šæ›´è§‰å¾—ä¸¢è„¸ã€‚' }
          ],
          responses: [
            { main: 'å…ˆå…±æƒ…ï¼Œè€Œä¸æ˜¯é©¬ä¸Šå‹æƒ…ç»ªã€‚', say: 'ã€Œä½ åˆšåˆšçœ‹åˆ°é‚£ä¸ªç©å…·ï¼Œå¿ƒé‡Œç‰¹åˆ«æƒ³è¦ï¼Œçªç„¶è¢«è¯´ä¸è¡Œï¼Œä¸€å®šå¾ˆç”Ÿæ°”ã€‚ã€' },
            { main: 'é‡å¤è¯´æ˜ä»Šå¤©çš„è§„åˆ™ã€‚', say: 'ã€Œæˆ‘çŸ¥é“ä½ å¾ˆæƒ³è¦ï¼Œä½†æˆ‘ä»¬ä»Šå¤©åªä¹°æ™šé¥­è¦ç”¨çš„ä¸œè¥¿ï¼Œç©å…·è¿™æ¬¡å…ˆä¸ä¹°ã€‚ã€' },
            { main: 'ç»™ä»–ä¸€ç‚¹é€‰æ‹©æ„Ÿã€‚', say: 'ã€Œä½ å¯ä»¥ç”Ÿæ°”æ²¡å…³ç³»ï¼Œä½†æˆ‘ä»¬ä¸èƒ½åœ¨è¿™é‡Œå¤§å–Šã€‚ä½ æ˜¯æƒ³ç‰µç€æˆ‘æ…¢æ…¢èµ°ï¼Œè¿˜æ˜¯å…ˆè·Ÿæˆ‘å»ä¸€ä¸ªå®‰é™ä¸€ç‚¹çš„åœ°æ–¹ï¼Ÿã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜’', text: 'è§‰å¾—çˆ¸å¦ˆå°æ°”åˆä¸å…¬å¹³', keywords: ['å°æ°”', 'åˆ«äººéƒ½', 'ä¸ºä»€ä¹ˆ', 'ä¸å…¬å¹³'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šåˆ«äººéƒ½æœ‰ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å®¶æ€»è¯´ä¸è¡Œã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'ä¸çˆ½è‡ªå·±æ€»è¢«å½“å°å­©', keywords: ['æˆ‘åˆä¸æ˜¯', 'æˆ‘å·²ç»', 'é•¿å¤§'], phrase: 'ã€Œä½ å¯èƒ½ä¼šæƒ³ï¼šæˆ‘éƒ½è¿™ä¹ˆå¤§äº†ï¼Œä¸ºä»€ä¹ˆä¸èƒ½è‡ªå·±åšå†³å®šã€‚ã€' },
            { emoji: 'ğŸ˜”', text: 'çœŸçš„å¾ˆå–œæ¬¢é‚£ä¸ªä¸œè¥¿', keywords: ['å¾ˆæƒ³', 'ä¸€ç›´æƒ³è¦', 'æƒ³è¦'], phrase: 'ã€Œä½ æ˜¯çœŸçš„å¾ˆå–œæ¬¢é‚£æ ·ä¸œè¥¿ï¼Œä¸æ˜¯éšä¾¿ä¹±è¦ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ’°', text: 'éœ€è¦æ‡‚ä¸€ç‚¹é‡‘é’±å’Œå®¶åº­é¢„ç®—', keywords: ['é’±', 'è´µ', 'å¤šå°‘', 'é¢„ç®—'], phrase: 'çŸ¥é“å®¶é‡Œé’±æ€ä¹ˆå®‰æ’ï¼Œè€Œä¸æ˜¯åªå¬åˆ°ã€Œä¸è¡Œã€ã€‚' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦å‚ä¸è®¨è®ºå’Œå†³å®š', keywords: ['å¯ä»¥', 'å¦‚æœ', 'å•†é‡'], phrase: 'æœ‰è¢«é—®æ„è§ï¼Œä¼šæ¯”è¾ƒæ„¿æ„é…åˆã€‚' },
            { emoji: 'ğŸ“‹', text: 'éœ€è¦ç»ƒä¹ ã€Œå»¶è¿Ÿæ»¡è¶³ã€', keywords: ['ç°åœ¨', 'é©¬ä¸Š', 'ç­‰'], phrase: 'ä½“éªŒã€Œä¸æ˜¯ä¸èƒ½ï¼Œè€Œæ˜¯å¯ä»¥æ™šä¸€ç‚¹ã€ã€‚' }
          ],
          responses: [
            { main: 'æ‰“å¼€ä¸€ä¸ªã€ŒèŠé’±ã€çš„å¯¹è¯ã€‚', say: 'ã€Œä½ çœŸçš„æŒºæƒ³è¦è¿™ä¸ªçš„ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å®ƒå¤šå°‘é’±ï¼Ÿé¡ºä¾¿ç®—ç®—è¦æ”’å¤šä¹…ã€‚ã€' },
            { main: 'æŠŠå®¶åº­é¢„ç®—è¯´å‡ºæ¥ã€‚', say: 'ã€Œæˆ‘ä»¬è¿™ä¸ªæœˆçš„é’±å·²ç»å…ˆç”¨åœ¨ XX ä¸Šï¼Œè¿™ä¸ªä¸œè¥¿å¯ä»¥å…ˆæ”¾è¿›ä¸‹ä¸ªæœˆçš„è€ƒè™‘æ¸…å•ã€‚ã€' },
            { main: 'ç»™ä¸€ä¸ªå…·ä½“çš„ã€Œä»¥åå¯ä»¥æ€æ ·ã€ã€‚', say: 'ã€Œä½ å¯ä»¥ç”¨è‡ªå·±çš„é›¶èŠ±é’±æ…¢æ…¢å­˜ï¼Œæˆ–è€…æˆ‘ä»¬çº¦å¥½ç”Ÿæ—¥ / è¿‡å¹´çš„æ—¶å€™å†ä¸€èµ·çœ‹çœ‹è¦ä¸è¦ä¹°ã€‚ã€' }
          ]
        }
      }
    },
    sibling_conflict: {
      name: 'å…„å¼Ÿå§å¦¹åµæ¶',
      icon: 'ğŸ‘§ğŸ‘¦',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜¡', text: 'ä¸œè¥¿è¢«æŠ¢å°±åªæœ‰ç”Ÿæ°”', keywords: ['æŠ¢', 'æˆ‘çš„', 'æ‹¿èµ°'], phrase: 'ã€Œä½ çœ‹åˆ°è‡ªå·±çš„ä¸œè¥¿è¢«æ‹¿èµ°ï¼Œå°±ä¸€ä¸‹å­çˆ†ç‚¸äº†ã€‚ã€' },
            { emoji: 'ğŸ˜¢', text: 'ä¸ä¼šè¡¨è¾¾ï¼Œåªèƒ½å“­æˆ–è€…æ¨æ‰“', keywords: ['å“­', 'æ‰“', 'æ¨'], phrase: 'ã€Œä½ ç°åœ¨åªä¼šç”¨å“­ã€ç”¨èº«ä½“æ¥è¡¨è¾¾ä½ ä¸çˆ½ã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—éƒ½æ˜¯å¯¹æ–¹çš„é”™', keywords: ['ä»–', 'éƒ½æ˜¯', 'å…ˆ'], phrase: 'ã€Œä½ è§‰å¾—è‚¯å®šæ˜¯ä»–ä¸å¯¹ï¼Œå¿ƒé‡Œä¹Ÿå¾ˆå§”å±ˆã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ¯', text: 'éœ€è¦å¤§äººå¸®å¿™è¯´å‡ºæ„Ÿå—', keywords: ['ç”Ÿæ°”', 'éš¾è¿‡', 'ä¸å¼€å¿ƒ'], phrase: 'éœ€è¦æœ‰äººå¸®ä»–æŠŠã€Œç”Ÿæ°” / éš¾è¿‡ã€ç¿»æˆä¸€å¥è¯ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦å­¦ä¼šã€Œè½®æµã€çš„æ¦‚å¿µ', keywords: ['è½®æµ', 'æ¢', 'ç­‰'], phrase: 'çŸ¥é“ä¸æ˜¯ã€Œæ€»æœ‰ä¸€ä¸ªäººè¾“ã€ï¼Œè€Œæ˜¯å¯ä»¥æ’é¡ºåºã€‚' },
            { emoji: 'ğŸ›¡ï¸', text: 'éœ€è¦å…ˆä¿è¯èº«ä½“å®‰å…¨ï¼ˆä¸è¢«æ‰“ã€æ¨ã€å’¬ï¼‰', keywords: ['æ‰“', 'æ¨', 'å’¬'], phrase: 'å…ˆä¿æŠ¤æ¯ä¸ªå­©å­çš„èº«ä½“ï¼Œå†è°ˆè°å¯¹è°é”™ã€‚' }
          ],
          responses: [
            { main: 'å…ˆå†·é™åœ°æ‹‰å¼€ï¼Œåœä¸‹è‚¢ä½“å†²çªã€‚', say: 'ã€Œæˆ‘ä¸èƒ½è®©ä½ æ‰“äººï¼Œæˆ‘è¦å…ˆæŠŠä½ æŠ±å¼€æ¥ï¼Œæˆ‘ä»¬ç”¨è¯´çš„ã€‚ã€' },
            { main: 'å¸®ä»–æŠŠæ„Ÿå—å’Œè¿‡ç¨‹è®²ä¸€éã€‚', say: 'ã€Œä½ å¾ˆç”Ÿæ°”ï¼Œå› ä¸ºç§¯æœ¨æœ¬æ¥åœ¨ä½ æ‰‹ä¸Šï¼Œåæ¥è¢«æ‹¿èµ°äº†ï¼Œå¯¹ä¸å¯¹ï¼Ÿã€' },
            { main: 'ç”¨è®¡æ—¶å™¨æˆ–ç®€å•çš„è½®æµè§„åˆ™ã€‚', say: 'ã€Œæˆ‘ä»¬ç”¨è®¡æ—¶å™¨ï¼Œè¿™ 5 åˆ†é’Ÿæ˜¯å“¥å“¥çš„ï¼Œç­‰ä¼šå„¿æ¢å¼Ÿå¼Ÿã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜¡', text: 'è¢«æŠ¢ä¸œè¥¿å¾ˆç”Ÿæ°”', keywords: ['æŠ¢', 'æ‹¿èµ°', 'æˆ‘çš„'], phrase: 'ã€Œä½ è¢«æŠ¢ä¸œè¥¿çš„æ—¶å€™ï¼Œå¿ƒé‡Œä¼šç‰¹åˆ«ä¸çˆ½ã€‚ã€' },
            { emoji: 'ğŸ˜’', text: 'åƒé†‹ï¼Œè§‰å¾—ä¸å…¬å¹³', keywords: ['åå¿ƒ', 'ä»–æ€»æ˜¯', 'ä¸å…¬å¹³'], phrase: 'ã€Œä½ ä¼šæ€€ç–‘ï¼šæ˜¯ä¸æ˜¯çˆ¸çˆ¸å¦ˆå¦ˆæ›´å–œæ¬¢ä»–ã€‚ã€' },
            { emoji: 'ğŸ˜', text: 'è§‰å¾—è‡ªå·±ä¸å¤Ÿé‡è¦', keywords: ['ä¸çˆ±æˆ‘', 'å–œæ¬¢ä»–', 'éƒ½'], phrase: 'ã€Œä½ æœ‰ç‚¹æ€•è‡ªå·±æ¯”è¾ƒä¸è¢«çˆ±ï¼Œæ‰€ä»¥å˜å¾—å¾ˆæ•æ„Ÿã€‚ã€' }
          ],
          needs: [
            { emoji: 'âš–ï¸', text: 'éœ€è¦è¢«å…¬å¹³å¯¹å¾…', keywords: ['å…¬å¹³', 'ä¸€æ ·', 'ä¸ºä»€ä¹ˆ'], phrase: 'ä¸ä¸€å®šæ¯æ¬¡éƒ½è¦ä¸€æ¨¡ä¸€æ ·ï¼Œä½†è¦çœ‹å¾—å‡ºçˆ¸å¦ˆæœ‰é¡¾åˆ°ä»–ã€‚' },
            { emoji: 'ğŸ‘ï¸', text: 'éœ€è¦æœ‰äººå¬ TA è¯´å§”å±ˆ', keywords: ['ä»–å…ˆ', 'æ˜æ˜', 'æˆ‘'], phrase: 'æœ‰æœºä¼šå¥½å¥½è®²è‡ªå·±çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æ€»è¢«è¦æ±‚ã€Œä½ æ˜¯å“¥å“¥ / å§å§ï¼Œè¦è®©ç€ä»–ã€ã€‚' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦å­¦ä¹ è½®æµå’Œåè°ƒ', keywords: ['æˆ‘å…ˆ', 'è½®æµ', 'ä¸€èµ·'], phrase: 'çŸ¥é“å¯ä»¥ã€Œæ€ä¹ˆè½®æµã€è€Œä¸æ˜¯åªèƒ½æŠ¢ã€‚' }
          ],
          responses: [
            { main: 'å…ˆå¸®ä¸¤è¾¹éƒ½æŠŠæ„Ÿå—è¯´å‡ºæ¥ã€‚', say: 'ã€Œå§å§ç°åœ¨å¾ˆç”Ÿæ°”è¢«æŠ¢èµ°ï¼›å¼Ÿå¼Ÿä¹Ÿè§‰å¾—è‡ªå·±æ€»æ˜¯ç©ä¸åˆ°ï¼Œå¾ˆå§”å±ˆã€‚ã€' },
            { main: 'å…ˆæè¿°äº‹å®ï¼Œä¸æ€¥ç€åˆ¤è°å¯¹è°é”™ã€‚', say: 'ã€Œç©å…·æœ¬æ¥åœ¨å§å§æ‰‹ä¸Šï¼Œåæ¥å¼Ÿå¼Ÿæ²¡å…ˆé—®å°±æ‹¿èµ°äº†ã€‚ã€' },
            { main: 'ä¸€èµ·æƒ³ã€Œè½®æµæˆ–ä¸€èµ·ç©ã€çš„åŠæ³•ã€‚', say: 'ã€Œä½ ä»¬æ˜¯æƒ³è½®æµç©ï¼Œè¿˜æ˜¯ä¸€èµ·ç›–ä¸€ä¸ªå¤§çš„ï¼Ÿæˆ‘ä»¬å¯ä»¥è¯•å‡ ç§æ–¹æ³•ã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—å…„å¼Ÿå§å¦¹å¾ˆçƒ¦å¾ˆå¹¼ç¨š', keywords: ['çƒ¦', 'å¹¼ç¨š', 'è®¨åŒ', 'åµ'], phrase: 'ã€Œä½ è§‰å¾—ä»–ç‰¹åˆ«çƒ¦ï¼Œæ€»æ˜¯åœ¨æ‰“æ‰°ä½ åšè‡ªå·±çš„äº‹ã€‚ã€' },
            { emoji: 'ğŸ˜’', text: 'è§‰å¾—çˆ¸å¦ˆåå¿ƒ', keywords: ['åå¿ƒ', 'æ€»æ˜¯', 'ä¸ºä»€ä¹ˆ', 'ä¸å…¬å¹³'], phrase: 'ã€Œä½ ä¼šæƒ³ï¼šä¸ºä»€ä¹ˆæ¯æ¬¡å‡ºäº‹éƒ½æ˜¯æˆ‘è¢«è¯´ã€‚ã€' },
            { emoji: 'ğŸ˜”', text: 'è§‰å¾—è‡ªå·±çš„ä¸œè¥¿è€æ˜¯è¢«æ‰“æ‰°', keywords: ['æˆ‘çš„', 'æˆ¿é—´', 'ä¸œè¥¿', 'éšç§'], phrase: 'ã€Œä½ æœ‰è‡ªå·±çš„ä¸œè¥¿å’Œç©ºé—´ï¼Œä¼šè§‰å¾—è€è¢«é—¯è¿›æ¥ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸšª', text: 'éœ€è¦è‡ªå·±çš„ç©ºé—´å’Œéšç§', keywords: ['æˆ¿é—´', 'éšç§', 'åˆ«è¿›æ¥', 'ç©ºé—´'], phrase: 'æœ‰ä¸€äº›ä¸œè¥¿ã€ä¸€äº›è§’è½æ˜¯çœŸæ­£å±äºã€Œæˆ‘è‡ªå·±ã€å¾ˆé‡è¦ã€‚' },
            { emoji: 'ğŸ‘‚', text: 'éœ€è¦è¢«è®¤çœŸå¬ TA çš„å›°æ‰°', keywords: ['ä¸€ç›´', 'çƒ¦', 'å›°æ‰°'], phrase: 'ä¸åªæ˜¯è¢«è¯´ã€Œä½ æ˜¯å“¥å“¥ / å§å§è¦è®©ç€ã€ï¼Œè€Œæ˜¯æœ‰äººè®¤çœŸå¬ä»–æŠ±æ€¨ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦å…¬å¹³çš„è§„åˆ™ï¼ˆä¸æ˜¯å¹´çºªå¤§å°±ä¸€å®šè¦è®©ï¼‰', keywords: ['ä¸ºä»€ä¹ˆæˆ‘è¦', 'ä»–æ‰', 'è®©æˆ‘'], phrase: 'çŸ¥é“ã€Œå…¬å¹³ã€ä¸ç­‰äºæ¯æ¬¡éƒ½è¦è®©å°çš„ã€‚' }
          ],
          responses: [
            { main: 'å…ˆå•ç‹¬å¬ä»–è®²ï¼Œæ‰¿è®¤ä»–çš„çƒ¦èºã€‚', say: 'ã€Œå¼Ÿå¼Ÿè€å¾€ä½ æˆ¿é—´è·‘ï¼Œæå¾—ä½ å¾ˆçƒ¦å¯¹ä¸å¯¹ï¼Ÿä½ å¯ä»¥å¥½å¥½è·Ÿæˆ‘åæ§½ä¸€ä¸‹ã€‚ã€' },
            { main: 'ä¸€èµ·è®¢ã€Œç©ºé—´å’Œç‰©å“ã€çš„åŸºæœ¬è§„åˆ™ã€‚', say: 'ã€Œæˆ‘ä»¬æ¥ä¸€èµ·è®¢å‡ æ¡è§„çŸ©ï¼šè¿›åˆ«äººæˆ¿é—´å‰å…ˆæ•²é—¨ï¼Œç”¨åˆ«äººçš„ä¸œè¥¿è¦å…ˆé—®è¿‡ã€‚ã€' },
            { main: 'ä¸å¼ºè¿«ç¤¼è®©ï¼Œä½†è¦æ±‚å¥½å¥½è¯´ã€‚', say: 'ã€Œä½ çš„ä¸œè¥¿è¦ä¸è¦å€Ÿå‡ºå»ï¼Œå…¶å®æ˜¯ä½ å¯ä»¥å†³å®šçš„ï¼Œä½†æˆ‘ä»¬è¦ç”¨å¥½å¥½è¯´çš„æ–¹å¼ã€‚ã€' }
          ]
        }
      }
    },
    bedtime: {
      name: 'ä¸è‚¯ç¡è§‰',
      icon: 'ğŸŒ™',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜£', text: 'è¿˜æƒ³ç©ï¼Œèˆä¸å¾—ç»“æŸ', keywords: ['è¿˜è¦', 'å†ä¸€ä¸‹', 'ç©', 'ä¸è¦'], phrase: 'ã€Œä½ ç©å¾—æ­£å¼€å¿ƒï¼Œçªç„¶è¦åœä¸‹æ¥ï¼Œå¿ƒé‡Œå¾ˆä¸æƒ…æ„¿ã€‚ã€' },
            { emoji: 'ğŸ˜¨', text: 'æœ‰ç‚¹æ€•é»‘', keywords: ['é»‘', 'ç¯', 'é™ª', 'ä¸€ä¸ªäºº'], phrase: 'ã€Œç¯å…³æ‰ã€æˆ¿é—´å˜å®‰é™ï¼Œä½ ä¼šæœ‰ç‚¹æ€•ã€‚ã€' },
            { emoji: 'ğŸ˜«', text: 'å¤ªå…´å¥‹ï¼Œå¤§è„‘åœä¸ä¸‹æ¥', keywords: ['ä¸æƒ³ç¡', 'ä¸å›°', 'è¿˜ä¸æƒ³'], phrase: 'ã€Œèº«ä½“æ˜æ˜ç´¯äº†ï¼Œä½†è„‘è¢‹è¿˜åœ¨è½¬ä¸ªä¸åœã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ”„', text: 'éœ€è¦å›ºå®šçš„ç¡å‰æµç¨‹', keywords: ['ä»€ä¹ˆæ—¶å€™', 'ç¡è§‰', 'æµç¨‹'], phrase: 'æ¯å¤©å·®ä¸å¤šçš„æµç¨‹ï¼Œè®©ä»–çŸ¥é“æ¥ä¸‹æ¥è¦åšä»€ä¹ˆã€‚' },
            { emoji: 'ğŸ’—', text: 'éœ€è¦è¢«å®‰æŠšã€è¢«é™ªç€', keywords: ['é™ª', 'ä¸€èµ·', 'æŠ±'], phrase: 'æœ‰äººåœ¨æ—è¾¹ï¼Œèº«ä½“ä¼šæ›´å®¹æ˜“æ”¾æ¾ä¸‹æ¥ã€‚' },
            { emoji: 'ğŸŒ™', text: 'éœ€è¦å®‰é™ã€æ˜æš—çš„ç¯å¢ƒ', keywords: ['ç¯', 'åµ', 'äº®'], phrase: 'å…ˆè®©ç¯å¢ƒå®‰é™ä¸‹æ¥ï¼Œæƒ…ç»ªæ‰æœ‰ç©ºé—´å®‰é™ã€‚' }
          ],
          responses: [
            { main: 'è®¾è®¡ä¸€ä¸ªæ¯å¤©å·®ä¸å¤šçš„ã€Œç¡å‰ä»ªå¼ã€ã€‚', say: 'ã€Œæˆ‘ä»¬æ¯å¤©éƒ½ä¸€æ ·ï¼šå…ˆæ´—æ¾¡ï¼Œå†åˆ·ç‰™ï¼Œå†å¬ä¸€ä¸ªæ•…äº‹ï¼Œç„¶åæŠ±æŠ±è¯´æ™šå®‰ã€‚ã€' },
            { main: 'ç”¨é™ªä¼´å‡è½»ä»–å¯¹é»‘æš—çš„ç´§å¼ ã€‚', say: 'ã€Œå¦ˆå¦ˆä¼šå…ˆåœ¨ä½ æ—è¾¹é™ªä½ åˆ°ç¡ç€ï¼Œç„¶åå†å»å®¢å…ï¼Œæ—©ä¸Šä½ ä¸€é†’æ¥å°±èƒ½çœ‹åˆ°æˆ‘ã€‚ã€' },
            { main: 'è°ƒæ•´æˆ¿é—´çš„ç¯å…‰å’Œå£°éŸ³ã€‚', say: 'ã€Œæˆ‘ä»¬å¼€ä¸€ç›å°å¤œç¯ï¼Œå†æ”¾ä¸€ç‚¹è½»ä¸€ç‚¹çš„éŸ³ä¹ï¼Œè¿™æ ·ä½ ä¼šæ›´å®‰å¿ƒã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜£', text: 'èˆä¸å¾—ç»“æŸç©è€', keywords: ['è¿˜è¦ç©', 'å†ä¸€ä¸‹', 'ç©', 'ä¸æƒ³'], phrase: 'ã€Œä½ ä¼šæƒ³ï¼šå†ç©ä¸€å°ä¼šå„¿å°±å¥½ï¼Œæ ¹æœ¬åœä¸ä¸‹æ¥ã€‚ã€' },
            { emoji: 'ğŸ˜´', text: 'è§‰å¾—ç¡è§‰å¤ªæ— èŠ', keywords: ['ä¸æƒ³ç¡', 'æ— èŠ', 'è¿˜æƒ³'], phrase: 'ã€Œè·Ÿç©ç©å…·æ¯”èµ·æ¥ï¼Œå»ç¡è§‰å®åœ¨å¤ªæ— èŠã€‚ã€' },
            { emoji: 'ğŸ˜¨', text: 'æ€•é»‘ã€æ€•åšå™©æ¢¦', keywords: ['é»‘', 'å™©æ¢¦', 'æ¢¦', 'ä¸æ•¢'], phrase: 'ã€Œä½ æœ‰æ—¶å€™ç¡è§‰ä¼šåšå¥‡æ€ªçš„æ¢¦ï¼Œå°±æœ‰ç‚¹ä¸æ•¢é—­ä¸Šçœ¼ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ”„', text: 'éœ€è¦ä¸€ä¸ªæœ‰ã€Œè¦ç»“æŸäº†ã€æ„Ÿè§‰çš„å›ºå®šæµç¨‹', keywords: ['æµç¨‹', 'é¡ºåº', 'æ¯å¤©'], phrase: 'ç¨³å®šçš„æµç¨‹èƒ½æé†’å¤§è„‘ï¼šè¦è¿›å…¥ä¼‘æ¯æ¨¡å¼äº†ã€‚' },
            { emoji: 'ğŸ’—', text: 'éœ€è¦ç¡å‰ä¸€å°æ®µè¢«ä¸“å¿ƒé™ªç€çš„æ—¶é—´', keywords: ['é™ª', 'è¯´è¯', 'èŠ'], phrase: 'æœ‰ä¸€å°æ®µåªå±äº Ta çš„ã€ŒèŠå¤©æ—¶é—´ã€ã€‚' },
            { emoji: 'ğŸ›¡ï¸', text: 'éœ€è¦è¢«å®‰æŠšã€Œä½ ç¡ç€çš„æ—¶å€™æˆ‘è¿˜åœ¨ã€', keywords: ['ä½ ä¼š', 'åœ¨å“ªé‡Œ', 'ä¼šä¸ä¼š'], phrase: 'çŸ¥é“è‡ªå·±ç¡ç€æ—¶ï¼Œå¤§äººä¸ä¼šæ¶ˆå¤±ã€‚' }
          ],
          responses: [
            { main: 'å…ˆè¯´å‡ºä»–çš„ä¸æƒ…æ„¿ã€‚', say: 'ã€Œä½ ä»Šå¤©ç©å¾—å¾ˆå¼€å¿ƒï¼Œç°åœ¨çªç„¶è¦ä½ åœä¸‹æ¥å»ç¡è§‰ï¼Œå¿ƒé‡Œè‚¯å®šå¾ˆä¸ç”˜å¿ƒã€‚ã€' },
            { main: 'å›ºå®šä¸€ä¸ªæœ‰ç»“æŸæ„Ÿçš„æµç¨‹ã€‚', say: 'ã€Œæˆ‘ä»¬å…ˆåˆ·ç‰™ï¼Œå†é€‰ä¸€æœ¬æ•…äº‹ä¹¦ï¼Œçœ‹å®Œå°±å…³ç¯ï¼ŒæŠ±ä¸€ä¸‹è¯´æ™šå®‰ã€‚ã€' },
            { main: 'è¯´æ¸…æ¥šä½ ä¼šåœ¨å“ªé‡Œã€‚', say: 'ã€Œä½ ç¡ç€çš„æ—¶å€™ï¼Œçˆ¸çˆ¸ä¼šåœ¨å®¢å…ï¼Œä½ æ—©ä¸Šé†’æ¥ä¸€æŠ¬å¤´å°±èƒ½çœ‹åˆ°æˆ‘ä»¬ã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—è‡ªå·±è¿˜ä¸å›°ï¼Œä¸æƒ³è¢«ç®¡', keywords: ['è¿˜ä¸å›°', 'ä¸æƒ³ç¡', 'è¿˜æƒ³', 'ä¸è¦'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šæˆ‘è¿˜ä¸æƒ³ç¡ï¼Œä¸ºä»€ä¹ˆå¤§äººè€è¦ç®¡æˆ‘ã€‚ã€' },
            { emoji: 'ğŸ“±', text: 'è¿˜æƒ³ç»§ç»­çœ‹æ‰‹æœº / ä¹¦ / åŠ¨ç”»', keywords: ['æ‰‹æœº', 'ä¹¦', 'å†çœ‹', 'å¹³æ¿'], phrase: 'ã€Œä½ çš„è„‘å­è¿˜åœåœ¨å±å¹•æˆ–æ•…äº‹é‡Œï¼Œå¾ˆéš¾ä¸€ä¸‹å­å…³æœºã€‚ã€' },
            { emoji: 'ğŸ˜Ÿ', text: 'èººç€ä¼šå¼€å§‹èƒ¡æ€ä¹±æƒ³', keywords: ['ç¡ä¸ç€', 'ä¸€ç›´æƒ³', 'æ‹…å¿ƒ'], phrase: 'ã€Œä½ èººç€çš„æ—¶å€™ï¼Œå¤§è„‘ä¼šå¼€å§‹æƒ³å¾ˆå¤šäº‹ï¼Œæœ‰ç‚¹çƒ¦ã€‚ã€' }
          ],
          needs: [
            { emoji: 'â°', text: 'éœ€è¦ä¸€ä¸ªä¸€èµ·å•†é‡è¿‡çš„å°±å¯æ—¶é—´', keywords: ['å‡ ç‚¹', 'æ—¶é—´', 'å¤ªæ—©'], phrase: 'å¯ä»¥ä¸€èµ·å†³å®šä¸€ä¸ªå¤§æ¦‚å‡ ç‚¹ä¸ŠåºŠã€‚' },
            { emoji: 'ğŸ“µ', text: 'éœ€è¦ç¡å‰ä¸€å°æ—¶ä¸ç”¨ 3C', keywords: ['æ‰‹æœº', 'å¹³æ¿', 'å±å¹•'], phrase: 'å±å¹•å…ˆå…³æ‰ä¸€æ®µæ—¶é—´ï¼Œå¤§è„‘æ‰æ¯”è¾ƒå®¹æ˜“ä¼‘æ¯ã€‚' },
            { emoji: 'ğŸ’­', text: 'å¦‚æœæ˜¯ç„¦è™‘ï¼Œéœ€è¦æœ‰äººå¬ä»–ã€Œåœ¨æ‹…å¿ƒä»€ä¹ˆã€', keywords: ['æ‹…å¿ƒ', 'æ€•', 'æ˜å¤©', 'çƒ¦æ¼'], phrase: 'æœ‰äººæ„¿æ„å¬ä»–è®²è®²ã€Œè„‘å­é‡Œåœ¨æƒ³ä»€ä¹ˆã€ã€‚' }
          ],
          responses: [
            { main: 'å’Œä»–åå•†ä¸€ä¸ªå¤§å®¶éƒ½èƒ½æ¥å—çš„å°±å¯æ—¶é—´ã€‚', say: 'ã€Œæ˜å¤©è¦æ—©èµ·ï¼Œæˆ‘åœ¨æƒ³ 9 ç‚¹åŠä¸ŠåºŠï¼Œä½ è§‰å¾—å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä¸€èµ·å†è°ƒæ•´ã€‚ã€' },
            { main: 'ç«‹ä¸€ä¸ªã€Œç¡å‰ 1 å°æ—¶ä¸ç”¨ 3Cã€çš„å®¶è§„ã€‚', say: 'ã€Œ9 ç‚¹ä»¥åæ‰‹æœºéƒ½æ”¾åœ¨å®¢å…å……ç”µï¼Œä½ å¯ä»¥çœ‹çº¸è´¨ä¹¦æˆ–è€…ç”»ç”»ã€‚ã€' },
            { main: 'å¼€ä¸€ä¸ªå°å°ã€Œç¡å‰çƒ¦æ¼æ—¶é—´ã€ã€‚', say: 'ã€Œä½ èººç€ä¼šä¸€ç›´æƒ³äº›ä»€ä¹ˆï¼Ÿè¦ä¸è¦ç¡å‰ 5 åˆ†é’Ÿï¼ŒæŠŠè¿™äº›äº‹è¯´ç»™æˆ‘å¬ã€‚ã€' }
          ]
        }
      }
    },
    transition: {
      name: 'ä¸è‚¯æ”¶ç©å…·',
      icon: 'â±ï¸',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜¤', text: 'è¢«æ‰“æ–­å¾ˆç”Ÿæ°”', keywords: ['è¿˜è¦', 'ä¸è¦', 'è¿˜åœ¨ç©'], phrase: 'ã€Œä½ ç©åˆ°ä¸€åŠè¢«å«åœï¼Œå¿ƒé‡Œå¾ˆä¸çˆ½ã€‚ã€' },
            { emoji: 'ğŸ˜«', text: 'å°±æ˜¯ä¸æƒ³åšï¼Œè§‰å¾—å¥½ç´¯', keywords: ['ä¸è¦', 'ç´¯', 'ä¸æƒ³'], phrase: 'ã€Œä½ è§‰å¾—æ”¶ä¸œè¥¿å¾ˆç´¯ï¼Œä¹Ÿä¸å¥½ç©ã€‚ã€' },
            { emoji: 'ğŸ˜•', text: 'ä¸çŸ¥é“æ€ä¹ˆæ”¶', keywords: ['ä¸ä¼š', 'æ€ä¹ˆ', 'ä¸çŸ¥é“'], phrase: 'ã€Œä½ å…¶å®ä¸çŸ¥é“è¯¥æ”¶åˆ°å“ªé‡Œå»ï¼Œåªå¥½ä¸€ç›´æ‹–ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ¯', text: 'éœ€è¦æœ‰äººç¤ºèŒƒã€Œå…·ä½“æ€ä¹ˆæ”¶ã€', keywords: ['æ€ä¹ˆ', 'å“ªé‡Œ', 'æ”¾'], phrase: 'æœ‰äººç»™ä»–çœ‹ï¼šè¿™ä¸ªæ”¾è¿™é‡Œï¼Œé‚£ä¸ªæ”¾é‚£é‡Œã€‚' },
            { emoji: 'ğŸ‘', text: 'éœ€è¦å¤§äººä¸€å¼€å§‹ä¸€èµ·æ”¶', keywords: ['å¸®', 'ä¸€èµ·', 'é™ª'], phrase: 'ä¸€å¼€å§‹ä¸æ˜¯è®©ä»–ã€Œè‡ªå·±æ”¶ã€ï¼Œè€Œæ˜¯ä¸€èµ·åšã€‚' },
            { emoji: 'ğŸµ', text: 'éœ€è¦æŠŠæ”¶æ‹¾å˜æˆä¸€ä¸ªå°æ¸¸æˆ', keywords: ['ç©', 'æ¸¸æˆ', 'å”±'], phrase: 'åŠ æ­Œã€åŠ è®¡æ—¶å™¨æˆ–æ•…äº‹ï¼Œä¼šæ›´æœ‰åŠ¨åŠ›ã€‚' }
          ],
          responses: [
            { main: 'ç”¨ã€Œä¸€èµ·æ”¶ã€ä»£æ›¿ã€Œä½ è‡ªå·±å»æ”¶ã€ã€‚', say: 'ã€Œæˆ‘ä»¬ä¸€èµ·æ”¶å¥½ä¸å¥½ï¼Ÿä½ æ”¶çº¢è‰²çš„ï¼Œæˆ‘æ”¶è“è‰²çš„ï¼Œçœ‹è°æ›´å¿«ã€‚ã€' },
            { main: 'æŠŠæ”¶ç©å…·å˜æˆä¸€ä¸ªå°æ¸¸æˆã€‚', say: 'ã€Œæˆ‘ä»¬æ¥å”±æ”¶ç©å…·çš„å°æ­Œï¼Œå”±å®Œè¿™ä¸€é¦–ï¼Œçœ‹å¯ä»¥æ”¶å¥½å¤šå°‘ã€‚ã€' },
            { main: 'ç»™éå¸¸å…·ä½“çš„æŒ‡ä»¤ã€‚', say: 'ã€Œç§¯æœ¨æ”¾è¿›è¿™ä¸ªç®±å­ï¼Œå°è½¦è½¦æ”¾åˆ°é‚£ä¸ªç¯®å­é‡Œã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜¤', text: 'çªç„¶è¢«æ‰“æ–­å¾ˆçƒ¦', keywords: ['è¿˜åœ¨ç©', 'ç­‰ä¸€ä¸‹', 'çªç„¶', 'è¿˜è¦'], phrase: 'ã€Œä½ æ­£åœ¨ä¸“å¿ƒç©ï¼Œçªç„¶è¢«å«å»æ”¶ä¸œè¥¿ï¼Œè§‰å¾—å¾ˆçƒ¦ã€‚ã€' },
            { emoji: 'ğŸ˜‘', text: 'è§‰å¾—è‡ªå·±ä¸€ç‚¹é€‰æ‹©éƒ½æ²¡æœ‰', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸æƒ³', 'ä¸€å®šè¦'], phrase: 'ã€Œä½ è§‰å¾—éƒ½æ˜¯åˆ«äººè¯´äº†ç®—ï¼Œè‡ªå·±ä»€ä¹ˆéƒ½ä¸èƒ½å†³å®šã€‚ã€' },
            { emoji: 'ğŸ˜°', text: 'è¢«å‚¬ä¿ƒåˆ°æœ‰å‹åŠ›', keywords: ['å¿«ç‚¹', 'èµ¶ç´§', 'å‚¬', 'ä¸€ç›´'], phrase: 'ã€Œå¤§äººä¸€ç›´å‚¬ï¼Œä½ å¿ƒé‡Œä¹Ÿä¼šå˜å¾—å¾ˆç´§ã€‚ã€' }
          ],
          needs: [
            { emoji: 'â°', text: 'éœ€è¦ä¸€ç‚¹å¿ƒç†å‡†å¤‡æ—¶é—´', keywords: ['çªç„¶', 'é©¬ä¸Š', 'ç­‰ä¸€ä¸‹'], phrase: 'åœ¨çœŸçš„è¦æ”¶ä¹‹å‰ï¼Œå…ˆæå‰å‡ åˆ†é’Ÿæé†’ã€‚' },
            { emoji: 'ğŸ›ï¸', text: 'éœ€è¦ä¸€ç‚¹é€‰æ‹©æƒ', keywords: ['æˆ‘æƒ³', 'å¯ä»¥', 'é€‰'], phrase: 'å¯ä»¥è®©ä»–å†³å®šã€Œå…ˆæ”¶å“ªä¸€ä¸ªã€ã€Œè¦ä¸è¦ä¸€èµ·æ”¶ã€ã€‚' },
            { emoji: 'ğŸ“‹', text: 'éœ€è¦æœ‰äººæŠŠå¤§ä»»åŠ¡æ‹†å°æ­¥', keywords: ['æ€ä¹ˆ', 'ä¸ä¼š', 'å¥½å¤š'], phrase: 'æŠŠå¤§ä»»åŠ¡æ‹†æˆå°å°æ­¥ï¼Œè®©ä»–çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚' }
          ],
          responses: [
            { main: 'æå‰é¢„å‘Šï¼Œå‡å°‘è¢«æ‰“æ–­çš„å†²å‡»ã€‚', say: 'ã€Œä½ å†ç© 5 åˆ†é’Ÿï¼Œç­‰é—¹é’Ÿå“äº†ï¼Œæˆ‘ä»¬å°±ä¸€èµ·æŠŠç©å…·æ”¶èµ·æ¥ã€‚ã€' },
            { main: 'æŠŠæ”¶æ‹¾æ­¥éª¤æ‹†å¼€æ¥ã€‚', say: 'ã€Œæˆ‘ä»¬å…ˆæ”¶æ¡Œå­ä¸Šçš„ç§¯æœ¨ï¼Œç­‰ä¼šå„¿å†æ”¶åœ°ä¸Šçš„å°è½¦è½¦ï¼Œå¥½å—ï¼Ÿã€' },
            { main: 'çœ‹åˆ°ä»–çš„è®¤çœŸå’Œèˆä¸å¾—ã€‚', say: 'ã€Œä½ åˆšåˆšæ­å¾—å¾ˆè®¤çœŸï¼Œéš¾æ€ªä¸€ä¸‹å­è¦åœä¸‹æ¥ä¼šå¾ˆèˆä¸å¾—ã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—å¾ˆçƒ¦ï¼Œä¸€ç›´è¢«å«', keywords: ['çŸ¥é“äº†', 'å¾ˆçƒ¦', 'ä¸€ç›´', 'å«'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šæˆ‘éƒ½çŸ¥é“äº†ï¼Œä¸ºä»€ä¹ˆè¦ä¸€ç›´è¯´ã€‚ã€' },
            { emoji: 'ğŸ˜‘', text: 'è§‰å¾—ã€Œä¸ºä»€ä¹ˆæ€»æ˜¯æˆ‘è¦æ”¶ã€', keywords: ['ä¸ºä»€ä¹ˆ', 'å¼Ÿå¼Ÿéƒ½ä¸ç”¨', 'æˆ‘è¦'], phrase: 'ã€Œä½ ä¼šè§‰å¾—åˆ«äººä¹Ÿç©äº†ï¼Œä¸ºä»€ä¹ˆåªå«æˆ‘æ”¶ã€‚ã€' },
            { emoji: 'ğŸ“±', text: 'æƒ³å…ˆæŠŠæ­£åœ¨åšçš„äº‹æƒ…åšå®Œ', keywords: ['ç­‰ä¸€ä¸‹', 'çœ‹å®Œ', 'å…ˆ', 'åšå®Œ'], phrase: 'ã€Œä½ å¤§è„‘æ­£æ²‰åœ¨åˆ«çš„äº‹æƒ…é‡Œï¼Œå¾ˆéš¾é©¬ä¸Šåˆ‡æ¢ã€‚ã€' }
          ],
          needs: [
            { emoji: 'â°', text: 'éœ€è¦æœ‰æœºä¼šè‡ªå·±å®‰æ’æ”¶æ‹¾æ—¶é—´', keywords: ['ç­‰ä¸€ä¸‹', 'å‡ ç‚¹', 'è‡ªå·±', 'æˆ‘çŸ¥é“'], phrase: 'æœ‰æœºä¼šè‡ªå·±å†³å®šã€Œä»€ä¹ˆæ—¶å€™è¦æ”¶ã€ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦çœ‹åˆ°å®¶åŠ¡åˆ†å·¥çš„å…¬å¹³', keywords: ['ä¸ºä»€ä¹ˆæˆ‘', 'ä»–éƒ½ä¸ç”¨', 'å…¬å¹³'], phrase: 'çŸ¥é“æ¯ä¸ªäººéƒ½æœ‰ä»½åšï¼Œè€Œä¸æ˜¯ã€Œåªæœ‰æˆ‘è¢«ç›¯ã€ã€‚' },
            { emoji: 'ğŸ¯', text: 'éœ€è¦æ˜ç™½ä¸ºä»€ä¹ˆè¦æ”¶æ‹¾', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸è¡Œ', 'ä¸€å®šè¦'], phrase: 'æ‡‚ã€Œæ”¶æ‹¾ã€çš„åŸå› ï¼Œè€Œä¸æ˜¯åªå¬ã€Œå› ä¸ºæˆ‘æ˜¯ä½ å¦ˆ / çˆ¸ã€ã€‚' }
          ],
          responses: [
            { main: 'ç»™ä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„æ—¶é—´èŒƒå›´ã€‚', say: 'ã€Œåªè¦æ™šé¥­å‰æ”¶å¥½å°±è¡Œï¼Œä½ è¦ç°åœ¨æ”¶ï¼Œè¿˜æ˜¯ 6 ç‚¹çš„æ—¶å€™æ”¶ï¼Ÿã€' },
            { main: 'æŠŠæ”¶æ‹¾çš„ç†ç”±è®²æ¸…æ¥šã€‚', say: 'ã€Œä¸œè¥¿æ”¶å¥½ï¼Œæ‰ä¸ä¼šæœ‰äººè¸©åˆ°å—ä¼¤ï¼Œä¸‹æ¬¡ä½ ä¹Ÿæ›´å¥½æ‰¾ã€‚ã€' },
            { main: 'ä¸€èµ·è®¨è®ºå…¨å®¶çš„åˆ†å·¥ï¼Œä¸åªæ˜¯ç›¯ä»–ä¸€ä¸ªã€‚', say: 'ã€Œä½ è§‰å¾—å®¶é‡Œçš„äº‹æƒ…æ€ä¹ˆåˆ†æ¯”è¾ƒå…¬å¹³ï¼Ÿæˆ‘ä»¬å¯ä»¥ä¸€èµ·åˆ—ä¸€ä¸‹ã€‚ã€' }
          ]
        }
      }
    },
    mealtime: {
      name: 'åƒé¥­ç£¨è¹­',
      icon: 'ğŸ½ï¸',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜', text: 'å¯¹é£Ÿç‰©æ²¡å…´è¶£', keywords: ['ä¸åƒ', 'ä¸è¦', 'ä¸æƒ³åƒ'], phrase: 'ã€Œä½ å¯¹æ¡Œä¸Šçš„è¿™äº›ä¸œè¥¿å…´è¶£ä¸å¤§ã€‚ã€' },
            { emoji: 'ğŸ˜', text: 'æŠŠé¥­æ‹¿æ¥ç©æ›´å¥½ç©', keywords: ['ç©', 'æ‰”', 'å¼„'], phrase: 'ã€ŒæŠŠé¥­æ‹¿æ¥ç©ï¼Œæ„Ÿè§‰æ¯”åƒè¿›è‚šå­æ›´æœ‰è¶£ã€‚ã€' },
            { emoji: 'ğŸ˜£', text: 'ä¸é¥¿ï¼Œå¯èƒ½é›¶é£Ÿåƒå¤šäº†', keywords: ['ä¸é¥¿', 'é¥±äº†', 'é›¶é£Ÿ'], phrase: 'ã€Œä½ å¯èƒ½å·²ç»æœ‰ç‚¹é¥±äº†ï¼Œæ‰€ä»¥åƒä¸å¤ªä¸‹ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ¼', text: 'å¯èƒ½çœŸçš„ä¸é¥¿ï¼ˆé›¶é£Ÿæ˜¯ä¸æ˜¯æœ‰ç‚¹å¤šï¼‰', keywords: ['é›¶é£Ÿ', 'é¥¼å¹²', 'åƒ', 'ä¸é¥¿'], phrase: 'çœ‹çœ‹ç™½å¤©æ˜¯ä¸æ˜¯é›¶é£Ÿåƒå¤ªå¤šã€‚' },
            { emoji: 'ğŸ®', text: 'éœ€è¦ä¸€ä¸ªä¸“å¿ƒåƒé¥­çš„ç¯å¢ƒ', keywords: ['ç”µè§†', 'ç©å…·', 'æ‰‹æœº'], phrase: 'å¹²æ‰°å°‘ä¸€ç‚¹ï¼Œæ¯”è¾ƒèƒ½ä¸“æ³¨åœ¨åƒã€‚' },
            { emoji: 'â°', text: 'éœ€è¦æ¯”è¾ƒå›ºå®šçš„åƒé¥­æ—¶é—´', keywords: ['æ—¶é—´', 'å‡ ç‚¹', 'ä»€ä¹ˆæ—¶å€™'], phrase: 'æ¯å¤©å·®ä¸å¤šæ—¶é—´åƒé¥­ï¼Œæ›´å®¹æ˜“å½¢æˆä¹ æƒ¯ã€‚' }
          ],
          responses: [
            { main: 'å…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯é›¶é£Ÿåƒå¤šäº†ã€‚', say: 'ã€Œä½ æ˜¯ä¸æ˜¯åˆšåˆšåƒäº†é¥¼å¹²ï¼Ÿéš¾æ€ªç°åœ¨è§‰å¾—åƒä¸ä¸‹ã€‚ã€' },
            { main: 'å…ˆæŠŠå¹²æ‰°å…³æ‰ã€‚', say: 'ã€Œæˆ‘ä»¬åƒé¥­çš„æ—¶å€™ï¼Œå…ˆè®©ç©å…·å’Œç”µè§†ä¼‘æ¯ä¸€ä¸‹ï¼Œç­‰åƒå®Œå†ç»§ç»­ã€‚ã€' },
            { main: 'è®¾å®šä¸€ä¸ªæ¸©å’Œä½†æ¸…æ¥šçš„åƒé¥­æ—¶é™ã€‚', say: 'ã€Œæˆ‘ä»¬åƒ 20 åˆ†é’Ÿï¼Œæ—¶é—´åˆ°äº†å°±å…ˆæŠŠæ¡Œå­æ”¶æ‰ï¼Œè‚šå­é¥¿äº†å¯ä»¥ç­‰ä¸‹ä¸€é¤ã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜', text: 'å¯¹æŸäº›èœä¸æ„Ÿå…´è¶£æˆ–è€…ä¸æ€ä¹ˆé¥¿', keywords: ['ä¸æƒ³åƒ', 'ä¸å¥½åƒ', 'ä¸é¥¿'], phrase: 'ã€Œä½ è§‰å¾—è¿™äº›ä¸œè¥¿çœ‹èµ·æ¥æ²¡é‚£ä¹ˆå¥½åƒã€‚ã€' },
            { emoji: 'ğŸ˜', text: 'æ›´æƒ³å»åšåˆ«çš„äº‹', keywords: ['ç©', 'çœ‹', 'è¦', 'åš'], phrase: 'ã€Œä½ ç°åœ¨åªæƒ³å›å»ç© / çœ‹åŠ¨ç”»ï¼Œåƒé¥­å°±æ˜¾å¾—ç‰¹åˆ«çƒ¦ã€‚ã€' },
            { emoji: 'ğŸ˜£', text: 'è¢«ä¸€ç›´å‚¬ï¼Œå¿ƒé‡Œä¹Ÿæœ‰å‹åŠ›', keywords: ['å¿«ç‚¹', 'å‚¬', 'ä¸€ç›´'], phrase: 'ã€Œåˆ«äººè¶Šå‚¬ä½ ï¼Œä½ è¶Šåƒä¸ä¸‹ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ®', text: 'éœ€è¦åƒé¥­æ—¶æ¯”è¾ƒä¸“æ³¨çš„ç¯å¢ƒ', keywords: ['ç”µè§†', 'ç©å…·', 'åˆ†å¿ƒ'], phrase: 'åƒé¥­çš„æ—¶å€™å°±æ˜¯åƒé¥­ï¼Œå…¶ä»–ç­‰ä¸€ç­‰å†ç»§ç»­ã€‚' },
            { emoji: 'â±ï¸', text: 'éœ€è¦ä¸€ä¸ªåˆç†çš„åƒé¥­æ—¶é•¿', keywords: ['å¾ˆä¹…', 'ä¸€ç›´å', 'å¤ªä¹…'], phrase: 'ä¸æ˜¯æ— é™åç€ï¼Œè€Œæ˜¯å¤§çº¦å¤šé•¿æ—¶é—´ä¼šç»“æŸã€‚' },
            { emoji: 'ğŸ´', text: 'éœ€è¦è¢«å°Šé‡ã€Œæˆ‘å¯èƒ½çœŸçš„ä¸é¥¿ã€', keywords: ['åƒä¸ä¸‹', 'é¥±äº†', 'ä¸é¥¿'], phrase: 'è¢«å¬è§ã€Œæˆ‘çœŸçš„åƒä¸ä¸‹ã€çš„æ„Ÿè§‰ã€‚' }
          ],
          responses: [
            { main: 'å…ˆæè¿°ä½ çœ‹åˆ°çš„ï¼Œè€Œä¸æ˜¯ç›´æ¥æ€ªä»–ã€‚', say: 'ã€Œæˆ‘çœ‹åˆ°ä½ åƒå¾—å¾ˆæ…¢ï¼Œæ˜¯ä¸å¤ªé¥¿ï¼Œè¿˜æ˜¯ä¸å¤ªå–œæ¬¢è¿™é“èœï¼Ÿã€' },
            { main: 'ç”¨ä»½é‡å¸®ä»–å¢åŠ æˆåŠŸæ„Ÿã€‚', say: 'ã€Œè¿™ä»½å¯èƒ½æœ‰ç‚¹å¤šï¼Œæˆ‘ä»¬å…ˆç››å°‘ä¸€ç‚¹ï¼Œä½ åƒå¾—å®Œä¼šæ¯”è¾ƒæœ‰æˆå°±æ„Ÿã€‚ã€' },
            { main: 'å®šä¸€ä¸ªæ¸©å’Œçš„åƒé¥­ç•Œé™ã€‚', say: 'ã€Œæˆ‘ä»¬åœ¨æ¡Œå­ä¸Šä¸“å¿ƒåƒ 20 åˆ†é’Ÿï¼Œæ—¶é—´åˆ°äº†æ²¡åƒå®Œå°±å…ˆæ”¶ã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜', text: 'å¯¹æŸäº›é£Ÿç‰©ç‰¹åˆ«ä¸çˆ±åƒ', keywords: ['ä¸å–œæ¬¢', 'ä¸åƒ', 'è®¨åŒ'], phrase: 'ã€Œä½ æ˜¯çœŸçš„ä¸å¤ªå–œæ¬¢æŸäº›èœï¼Œä¸æ˜¯æ•…æ„æ‰¾äº‹ã€‚ã€' },
            { emoji: 'ğŸ“±', text: 'æƒ³è¾¹åƒè¾¹ç©æ‰‹æœº / çœ‹ä¸œè¥¿', keywords: ['æ‰‹æœº', 'è§†é¢‘', 'çœ‹', 'å¹³æ¿'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šåƒé¥­ä¸çœ‹ç‚¹ä»€ä¹ˆå¤ªæ— èŠäº†ã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'è§‰å¾—è‡ªå·±è¢«é€¼ç€åƒ', keywords: ['ä¸€å®šè¦', 'é€¼æˆ‘', 'å¼ºè¿«'], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šä¸ºä»€ä¹ˆéè¦é€¼æˆ‘æŠŠè¿™äº›åƒå®Œï¼Ÿã€' }
          ],
          needs: [
            { emoji: 'ğŸ—£ï¸', text: 'éœ€è¦å‚ä¸è®¨è®ºä¸€å‘¨åƒä»€ä¹ˆ', keywords: ['ä¸å–œæ¬¢', 'æƒ³åƒ', 'å•†é‡'], phrase: 'æœ‰æœºä¼šè¯´è¯´ã€Œæˆ‘æ›´å–œæ¬¢åƒä»€ä¹ˆã€ã€‚' },
            { emoji: 'âš–ï¸', text: 'éœ€è¦ç†è§£ã€Œå‡è¡¡é¥®é£Ÿã€å¯¹èº«ä½“çš„æ„ä¹‰', keywords: ['ä¸ºä»€ä¹ˆ', 'ä¸å¥åº·', 'è¥å…»'], phrase: 'çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦åƒä¸åŒç§ç±»çš„é£Ÿç‰©ã€‚' },
            { emoji: 'ğŸ“µ', text: 'éœ€è¦ä¸€æ®µã€Œå…¨å®¶ä¸€èµ·åƒé¥­ã€çš„æ—¶é—´', keywords: ['ä¸€èµ·åƒ', 'èŠå¤©', 'å®¶äºº'], phrase: 'æ„Ÿè§‰åˆ°åƒé¥­æ˜¯ã€Œä¸€å®¶äººåœ¨ä¸€èµ·çš„æ—¶é—´ã€ï¼Œè€Œä¸æ˜¯è¢«æ£€æŸ¥ã€‚' }
          ],
          responses: [
            { main: 'é‚€è¯·ä»–ä¸€èµ·å‚ä¸ä¸€å‘¨èœå•çš„è§„åˆ’ã€‚', say: 'ã€Œè¿™ä¸€å‘¨ä½ æœ€æƒ³åƒå“ªå‡ æ ·ï¼Ÿæˆ‘ä»¬å¯ä»¥ä¸€èµ·æ’è¿›èœå•ã€‚ã€' },
            { main: 'ç”¨ã€Œèº«ä½“éœ€è¦ã€æ¥è§£é‡Šè¥å…»ã€‚', say: 'ã€Œæ¯ç§é£Ÿç‰©èº«ä½“éƒ½éœ€è¦ä¸€ç‚¹ï¼Œåƒä¸€ç‚¹èœã€è‚‰å’Œä¸»é£Ÿï¼Œèº«ä½“æ‰æ¯”è¾ƒæœ‰åŠ›æ°”ã€‚ã€' },
            { main: 'æŠŠåƒé¥­å˜æˆä¸€å®¶äººä¸“å±çš„ç›¸å¤„æ—¶é—´ã€‚', say: 'ã€Œåƒé¥­çš„æ—¶å€™ï¼Œæˆ‘ä»¬å…¨å®¶æŠŠæ‰‹æœºéƒ½æ”¾åœ¨ä¸€è¾¹ï¼Œä¸€è¾¹åƒä¸€è¾¹èŠèŠä»Šå¤©å‘ç”Ÿçš„äº‹ã€‚ã€' }
          ]
        }
      }
    },
    // å…¶ä»– / ä»Šå¤©å¾ˆå´©æºƒ
    other: {
      name: 'è¯´ä¸æ¸…ï¼Œæ€»ä¹‹ä»Šå¤©å¾ˆå´©æºƒ',
      icon: 'ğŸ˜µ',
      ageVariants: {
        toddler: {
          emotions: [
            { emoji: 'ğŸ˜«', text: 'ä»Šå¤©å¾ˆå¤šäº‹éƒ½ä¸é¡ºå¿ƒ', keywords: [], phrase: 'ã€Œä½ ä»Šå¤©å¾ˆå¤šæ—¶å€™éƒ½ä¸é¡ºå¿ƒï¼Œåªèƒ½ç”¨å“­æˆ–è€…å‘è„¾æ°”æ¥è¡¨è¾¾ã€‚ã€' },
            { emoji: 'ğŸ˜µ', text: 'å¤ªå¤šå£°éŸ³ã€å¤ªå¤šäº‹æƒ…ï¼Œè„‘å­è£…ä¸ä¸‹', keywords: [], phrase: 'ã€Œä»Šå¤©çš„å£°éŸ³ã€äº‹æƒ…ã€äººéƒ½å¾ˆå¤šï¼Œè®©ä½ è§‰å¾—å¥½ä¹±ã€‚ã€' },
            { emoji: 'ğŸ˜¢', text: 'åªçŸ¥é“ä¸èˆ’æœï¼Œä½†è¯´ä¸å‡ºæ¥', keywords: [], phrase: 'ã€Œä½ åªçŸ¥é“è‡ªå·±ä¸èˆ’æœï¼Œå¯æ˜¯è¿˜ä¸ä¼šç”¨è¯è¯´å‡ºæ¥ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ‘', text: 'éœ€è¦ä¸€ä¸ªå¯ä»¥ã€Œæ”¾å¿ƒå´©æºƒã€çš„å®‰å…¨åœ°æ–¹', keywords: [], phrase: 'æœ‰äººåœ¨æ—è¾¹å®ˆç€ï¼Œä¸ç”¨é©¬ä¸Šè¢«è¦æ±‚ä¹–ä¹–ã€‚' },
            { emoji: 'ğŸ’—', text: 'éœ€è¦è¢«æ¥çº³ã€Œä½ å¯ä»¥éš¾è¿‡ã€', keywords: [], phrase: 'è®©ä»–çŸ¥é“ï¼šæƒ…ç»ªæ˜¯å¯ä»¥è¢«çœ‹è§çš„ã€‚' },
            { emoji: 'â¸ï¸', text: 'éœ€è¦æ•´å¤©çš„èŠ‚å¥æš‚æ—¶æ…¢ä¸€ç‚¹', keywords: [], phrase: 'ä»Šå¤©å¯ä»¥å°‘åšä¸€ç‚¹äº‹ï¼Œè®©ä½ å’Œä»–çš„å°ç¥ç»ç³»ç»Ÿéƒ½æœ‰æœºä¼šä¼‘æ¯ã€‚' }
          ],
          responses: [
            { main: 'å…ˆç»™ä»–ä¸€ä¸ªå¯ä»¥å®‰å…¨å‘æ³„çš„ç©ºé—´ã€‚', say: 'ã€Œä½ ä»Šå¤©çœŸçš„ç´¯åäº†ï¼Œæˆ‘é™ªä½ åœ¨è¿™é‡Œå“­ä¸€å“­ã€ç”Ÿä¸€ä¼šå„¿æ°”éƒ½å¯ä»¥ã€‚ã€' },
            { main: 'æŠŠã€Œå¯ä»¥å´©æºƒã€è¿™ä»¶äº‹è¯´ç»™ä»–å¬ã€‚', say: 'ã€Œä½ ç°åœ¨å“­è¿™ä¹ˆå¤§å£°ï¼Œæ˜¯å› ä¸ºä»Šå¤©çœŸçš„å¾ˆè¾›è‹¦ã€‚æ²¡å…³ç³»ï¼Œæˆ‘çœ‹åˆ°å•¦ã€‚ã€' },
            { main: 'ä»Šå¤©å…ˆæŠŠè¦æ±‚é™åˆ°æœ€ä½ã€‚', say: 'ã€Œæˆ‘ä»¬ä»Šå¤©å°±ç®€å•ä¸€ç‚¹ï¼Œå…ˆä¼‘æ¯ï¼Œå…¶ä»–äº‹æ”¹å¤©å†è¯´ã€‚ã€' }
          ]
        },
        preschool: {
          emotions: [
            { emoji: 'ğŸ˜©', text: 'ä»Šå¤©æ•´ä½“éƒ½è§‰å¾—åˆç´¯åˆçƒ¦', keywords: [], phrase: 'ã€Œä½ ä¼šè§‰å¾—ï¼šä»Šå¤©æ€ä¹ˆæ¯ä¸€ä»¶äº‹éƒ½å¥½çƒ¦ã€‚ã€' },
            { emoji: 'ğŸ˜¢', text: 'å¿ƒé‡Œçš„å§”å±ˆæŒ¤åœ¨ä¸€èµ·', keywords: [], phrase: 'ã€Œå¯èƒ½æœ‰å¾ˆå¤šå°å°çš„ä¸å¼€å¿ƒï¼Œéƒ½æŒ¤åœ¨å¿ƒé‡Œæ²¡åœ°æ–¹æ”¾ã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'ä¸çŸ¥é“æ€ä¹ˆè®²ï¼Œåªèƒ½å¤§å¼å¤§å«', keywords: [], phrase: 'ã€Œä½ ä¸çŸ¥é“è¯¥æ€ä¹ˆè®²ï¼Œåªå¥½ç”¨å¼çš„ã€ç”¨å“­çš„ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ‘‚', text: 'éœ€è¦ä¸€ä¸ªã€Œåªå¬ä¸éª‚ã€çš„è€³æœµ', keywords: [], phrase: 'æœ‰äººæ„¿æ„å…ˆå¬ï¼Œä¸é©¬ä¸Šçº æ­£ä½ ã€‚' },
            { emoji: 'ğŸ¤—', text: 'éœ€è¦è¢«æŠ±æŠ±ã€è¢«å®‰æ…°', keywords: [], phrase: 'æœ‰äººåœ¨æ—è¾¹ï¼Œè®©ä»–çŸ¥é“è‡ªå·±ä¸æ˜¯ä¸€ä¸ªäººã€‚' },
            { emoji: 'ğŸ§¸', text: 'éœ€è¦ä¸€å°æ®µåªå±äºè‡ªå·±çš„æ¸©æŸ”æ—¶å…‰', keywords: [], phrase: 'æœ‰ä¸€ä¼šå„¿ï¼Œå¤§äººåªä¸“å¿ƒé™ªä»–ã€‚' }
          ],
          responses: [
            { main: 'å…ˆæ‰¿è®¤ï¼šä»Šå¤©å¯¹ä½ å’Œå­©å­éƒ½æŒºéš¾ã€‚', say: 'ã€Œæˆ‘æ„Ÿè§‰ä½ ä»Šå¤©ä¸€å®šä¹Ÿå¾ˆç´¯ï¼Œä¹Ÿå‘ç”Ÿäº†ä¸å°‘äº‹ï¼Œæ‰€ä»¥ç°åœ¨åªè¦ä¸€ç‚¹å°äº‹å°±å®¹æ˜“çˆ†ã€‚ã€' },
            { main: 'ç”¨ã€Œåªå¬ä¸éª‚ã€å½“ä»Šå¤©çš„ç›®æ ‡ã€‚', say: 'ã€Œä½ å¯ä»¥è·Ÿæˆ‘è¯´ï¼Œä»Šå¤©å“ªä¸€ä»¶äº‹è®©ä½ æœ€ç”Ÿæ°”ã€æœ€éš¾è¿‡ï¼Ÿæˆ‘å…ˆå¬ï¼Œä¸ä¼šéª‚ä½ ã€‚ã€' },
            { main: 'ç»™ä»–ä¸€å°æ®µä¸“å±é™ªä¼´çš„æ—¶é—´ã€‚', say: 'ã€Œæˆ‘ä»¬æ¥æœ‰ 10 åˆ†é’Ÿæ˜¯åªå±äºä½ å’Œæˆ‘ï¼Œåšä½ æƒ³åšçš„äº‹ï¼Œå…¶ä»–äº‹æƒ…ç­‰ä¸€ç­‰ã€‚ã€' }
          ]
        },
        school: {
          emotions: [
            { emoji: 'ğŸ˜µ', text: 'è§‰å¾—æ•´å¤©éƒ½å¾ˆç‚¸ï¼Œå‹åŠ›æ»¡å‡ºæ¥', keywords: [], phrase: 'ã€Œä½ å¯èƒ½ä¼šè§‰å¾—ï¼šä»Šå¤©çœŸçš„æ˜¯å¤Ÿéš¾ç†¬çš„ã€‚ã€' },
            { emoji: 'ğŸ˜”', text: 'æœ‰äº›äº‹ä¸æƒ³è¯´ï¼Œåªé—·åœ¨å¿ƒé‡Œ', keywords: [], phrase: 'ã€Œä½ æœ‰äº›äº‹ä¸å¤ªæƒ³è®²ï¼Œåªèƒ½æ†‹åœ¨å¿ƒé‡Œã€‚ã€' },
            { emoji: 'ğŸ˜¤', text: 'å¾ˆæƒ³è¢«ç†è§£ï¼Œåˆæ€•ä¸€è¯´å°±è¢«è¯´æ•™', keywords: [], phrase: 'ã€Œä½ æ€•ä¸€è¯´å°±è¢«è®²é“ç†ï¼Œåªå¥½ç”¨åˆ«çš„æ–¹å¼æŠŠæƒ…ç»ªå‘å‡ºæ¥ã€‚ã€' }
          ],
          needs: [
            { emoji: 'ğŸ›Ÿ', text: 'éœ€è¦æœ‰äººçœ‹åˆ°ã€Œä½ ä¹ŸæŒºä¸å®¹æ˜“ã€', keywords: [], phrase: 'æœ‰äººè¯´å‡ºï¼šä½ ä»Šå¤©çœŸçš„ä¹Ÿä¸å¥½è¿‡ã€‚' },
            { emoji: 'ğŸ•°ï¸', text: 'éœ€è¦ä¸€ç‚¹ç‹¬å¤„æˆ–æ”¾ç©ºçš„æ—¶é—´', keywords: [], phrase: 'ä¸ç”¨é©¬ä¸Šè¢«é—®åŠŸè¯¾ã€è¢«è¦æ±‚åšäº‹ã€‚' },
            { emoji: 'ğŸ‘‚', text: 'éœ€è¦ä¸€ä¸ªå¯ä»¥åæ§½ã€ä¸è¢«è¯„ä»·çš„èŠå¤©ç©ºé—´', keywords: [], phrase: 'å¯ä»¥è®²ä¸€è®²ä»Šå¤©çš„çƒ‚äº‹ï¼Œè€Œä¸æ˜¯ä¸€è®²å°±è¢«è¯´ä½ ä¸å¤ŸåŠªåŠ›ã€‚' }
          ],
          responses: [
            { main: 'å…ˆæ‰¿è®¤ï¼šä»Šå¤©çœŸçš„æŒºè¾›è‹¦ã€‚', say: 'ã€Œçœ‹å¾—å‡ºæ¥ä½ ä»Šå¤©è¿‡å¾—ä¸å¤ªå¥½ï¼Œå¿ƒé‡Œè‚¯å®šä¹ŸæŒºç´¯çš„ã€‚ã€' },
            { main: 'ç»™ä»–ä¸€æ®µä¸ä¼šè¢«æ‰“æ‰°çš„ä¼‘æ¯æ—¶é—´ã€‚', say: 'ã€Œä½ è¦ä¸è¦å…ˆè‡ªå·±å¾…ä¸€ä¼šå„¿ï¼Ÿä½ å‡†å¤‡å¥½æƒ³èŠäº†å†æ¥æ‰¾æˆ‘ï¼Œæˆ‘éƒ½åœ¨ã€‚ã€' },
            { main: 'å¼€ä¸€ä¸ªã€Œä¸è¯´æ•™ã€æ¨¡å¼çš„èŠå¤©ã€‚', say: 'ã€Œå¦‚æœä½ æƒ³æŠ±æ€¨ä¸€ä¸‹ä»Šå¤©çš„äº‹ï¼Œæˆ‘å¯ä»¥å…ˆå½“é‚£ä¸ªåªå¬ã€ä¸è¯´æ•™çš„äººã€‚ã€' }
          ]
        }
      }
    }
  };

  // === é¼“åŠ±ä¿¡æ¯æ•°æ®åº“ ===
  const encouragementMessages = {
    // æ¯”è¾ƒéš¾å—çš„ååº”
    raiseVoice: 'ä½ æ„¿æ„æŠŠè¿™ä¸€å¹•è®°å½•ä¸‹æ¥ï¼Œè¯´æ˜ä½ çœŸçš„åœ¨ä¹å’Œå­©å­çš„å…³ç³»ã€‚å¤§å¤šæ•°å®¶é•¿åœ¨å¾ˆç´¯çš„æ—¶å€™éƒ½ä¼šæé«˜éŸ³é‡ï¼Œä½ ä¸æ˜¯ä¸€ä¸ªäººã€‚ä¸‹æ¬¡å¯ä»¥è¯•è¯•ï¼šå…ˆæ·±å‘¼å¸ 3 ä¸‹ï¼Œå†è¯´ç¬¬ä¸€å¥è¯ã€‚',
    threaten: 'è¯´å‡ºå¨èƒçš„è¯ï¼Œé€šå¸¸æ˜¯å› ä¸ºæˆ‘ä»¬çœŸçš„å¾ˆç€æ€¥ï¼Œä¹Ÿå¾ˆæ— åŠ›ã€‚ä½ ç°åœ¨æ„¿æ„çœ‹è§è¿™ç‚¹ï¼Œå°±å·²ç»åœ¨å¾€ä¸ä¸€æ ·çš„æ–¹å‘è¿ˆäº†ä¸€æ­¥ã€‚',
    giveUp: 'å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬é€‰æ‹©å¦¥åï¼Œæ˜¯å› ä¸ºå½“ä¸‹çœŸçš„æ’‘ä¸ä½äº†ã€‚è¿™ä¸ä»£è¡¨ä½ æ˜¯å¤±è´¥çš„å®¶é•¿ï¼Œåªä»£è¡¨ä½ ä¹Ÿéœ€è¦è¢«ç…§é¡¾ã€éœ€è¦ä¼‘æ¯ã€‚',
    cold: 'å†·å¤„ç†ï¼Œå¾€å¾€æ˜¯å› ä¸ºè‡ªå·±çš„æƒ…ç»ªä¹Ÿå·²ç»æ»¡å‡ºæ¥äº†ã€‚è¿˜èƒ½äº‹åå›å¤´çœ‹ï¼Œæœ¬èº«å°±æ˜¯å¾ˆå¤§çš„å‹‡æ°”ã€‚ä¸‹æ¬¡å¯ä»¥è¯•ç€è·Ÿå­©å­è¯´ï¼šã€Œæˆ‘ç°åœ¨éœ€è¦å†·é™ä¸€ä¸‹ï¼Œç­‰ä¼šå„¿å†è·Ÿä½ è¯´è¯ã€‚ã€',
    compare: 'æ‹¿å­©å­è·Ÿåˆ«äººæ¯”ï¼Œæ˜¯å¾ˆå¤šå®¶é•¿ä»å°å¬åˆ°å¤§çš„è¯­è¨€ï¼Œéš¾å…å°±ä¼šé¡ºå£è¯´å‡ºæ¥ã€‚ä½ å·²ç»å¼€å§‹æ„è¯†åˆ°è‡ªå·±ä¸å¤ªæƒ³è¿™æ ·ï¼Œè¿™å°±æ˜¯æ”¹å˜çš„èµ·ç‚¹ã€‚',
    label: 'ç»™å­©å­è´´æ ‡ç­¾çš„è¯ï¼Œå¸¸å¸¸æ˜¯åœ¨æƒ…ç»ªå¾ˆæ»¡ã€è¯ä¸€å‡ºå£å°±æ¥ä¸åŠæ”¶å›çš„æ—¶å€™è¯´çš„ã€‚ä½ æ„¿æ„åœ¨è¿™é‡Œè¯šå®å‹¾é€‰ï¼Œæ˜¯ä¸€ä»¶å¾ˆä¸å®¹æ˜“çš„äº‹ã€‚',
    tiredBlank: 'å½“ä½ å‹¾é€‰ã€Œæˆ‘ä¹Ÿå¾ˆç´¯ï¼Œè„‘å­ä¸€ç‰‡ç©ºç™½ã€ï¼Œå…¶å®æ˜¯åœ¨æ‰¿è®¤ï¼šä½ ä¹Ÿæ˜¯éœ€è¦è¢«ç…§é¡¾çš„äººã€‚è¿™ä¸æ˜¯è‡ªç§ï¼Œè€Œæ˜¯è¯šå®ã€‚',

    // æ¯”è¾ƒæ”¯æŒæ€§çš„ååº”
    empathy: 'ä½ æœ‰è¯•ç€å…ˆè¯´å‡ºå­©å­çš„æ„Ÿå—ï¼Œè¿™æ˜¯éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚å¯¹äºå­©å­æ¥è¯´ï¼Œé‚£ä¸€å¥ã€Œä½ æ˜¯ä¸æ˜¯å¾ˆéš¾è¿‡ã€ä¼šåœ¨å¿ƒé‡Œç•™å¾ˆä¹…å¾ˆä¹…ã€‚',
    boundary: 'ä½ æœ‰æ¸©å’Œåˆåšå®šåœ°è¯´å‡ºç•Œé™ï¼Œè¿™æ¯”ä¸€å‘³çºµå®¹æˆ–ä¸€å‘³ä¸¥å‰ï¼Œéƒ½æ›´ä¸å®¹æ˜“ã€‚å­©å­ä¼šåœ¨è¿™æ ·çš„ç•Œé™é‡Œï¼Œæ…¢æ…¢é•¿å‡ºå®‰å…¨æ„Ÿã€‚',
    repair: 'ä½ æ„¿æ„äº‹åé“æ­‰æˆ–ä¿®è¡¥å…³ç³»ï¼Œè¿™ä¼šè®©å­©å­å­¦åˆ°ï¼šã€Œäººä¼šçŠ¯é”™ï¼Œä½†å¯ä»¥ä¿®è¡¥ã€ã€‚è¿™æ¯”ä½ æ°¸è¿œä¸å‘è„¾æ°”ï¼Œæ›´çè´µã€‚',

    // ç»¼åˆé¼“åŠ±
    mixed: 'ä½ åŒæ—¶çœ‹è§äº†ã€Œæˆ‘å“ªå„¿åšå¾—ä¸å¤ªå¥½ã€å’Œã€Œæˆ‘å…¶å®ä¹Ÿæœ‰åšå¯¹çš„åœ°æ–¹ã€ã€‚è¿™ç§æ—¢è¯šå®åˆæ¸©æŸ”åœ°çœ‹è‡ªå·±ï¼Œæœ¬èº«å°±æ˜¯å¾ˆæˆç†Ÿçš„å…»è‚²æ€åº¦ã€‚',
    allPositive: 'ä»ä»Šå¤©çš„è®°å½•é‡Œçœ‹å¾—å‡ºæ¥ï¼Œä½ å·²ç»åœ¨ç»ƒä¹ ç”¨ç†è§£å’Œç•Œé™æ¥é™ªå­©å­ã€‚è¿‡ç¨‹è¿˜æ˜¯ä¼šç´¯ï¼Œä½†ä½ å’Œå­©å­çš„å…³ç³»æ­£åœ¨è¢«å¥½å¥½å‘µæŠ¤ç€ã€‚',
    allNegative: 'ä»Šå¤©å¯èƒ½çœŸçš„ç‰¹åˆ«è¾›è‹¦ã€‚æ²¡æœ‰å“ªä¸ªå®¶é•¿æ˜¯æ°¸è¿œæ¸©æŸ”ã€æ°¸è¿œæœ‰è€å¿ƒçš„ã€‚ä½ æ„¿æ„ç•™ä¸‹è®°å½•ï¼Œè¯´æ˜ä½ æ²¡æœ‰æ”¾å¼ƒæˆä¸ºä»€ä¹ˆæ ·çš„çˆ¶æ¯ã€‚',
    noSelection: 'å°±ç®—ä½ ç°åœ¨è¿˜åˆ†ä¸æ¸…è‡ªå·±å½“æ—¶æ˜¯æ€ä¹ˆååº”çš„ï¼Œæ„¿æ„èŠ±æ—¶é—´æ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œçœ‹ä¸€çœ‹å­©å­å’Œè‡ªå·±ï¼Œæœ¬èº«å°±æ˜¯ä¸€ç§å®‰é™ä½†é‡è¦çš„æ”¹å˜ã€‚'
  };

  let currentAge = 'toddler';
  let currentScenario = null;
  let selectedReactions = new Set();
  let selectedResponses = new Set(); // å®¶é•¿å‹¾é€‰æƒ³ç»ƒä¹ çš„å›åº”
  let currentAnalysis = null;
  let records = [];

  // åˆå§‹åŒ–ï¼šä» localStorage è¯»å–è®°å½•
  function initRecords() {
    try {
      const saved = localStorage.getItem('parentingRecords');
      if (saved) {
        records = JSON.parse(saved);
      }
    } catch (e) {
      console.error('è¯»å–è®°å½•å¤±è´¥:', e);
      records = [];
    }
  }

  // å­˜å‚¨è®°å½•åˆ° localStorage
  function saveRecords() {
    try {
      localStorage.setItem('parentingRecords', JSON.stringify(records));
    } catch (e) {
      console.error('ä¿å­˜å¤±è´¥:', e);
    }
  }

  // === å¹´é¾„é€‰æ‹© ===
  function selectAge(age, element) {
    document.querySelectorAll('.age-button').forEach(b => b.classList.remove('active'));
    element.classList.add('active');
    currentAge = age;
  }

  // === æƒ…å¢ƒé€‰æ‹© ===
  function selectScenario(scenario, element) {
    document.querySelectorAll('.scenario-card').forEach(c => c.classList.remove('active'));
    element.classList.add('active');
    currentScenario = scenario;
  }

  // === ååº”é€‰æ‹© ===
  function toggleReaction(reaction, element, event) {
    const checkbox = element.querySelector('input[type="checkbox"]');
    
    if (event && event.target !== checkbox) {
      checkbox.checked = !checkbox.checked;
    }
    
    if (checkbox.checked) {
      element.classList.add('selected');
      selectedReactions.add(reaction);
    } else {
      element.classList.remove('selected');
      selectedReactions.delete(reaction);
    }
  }

  // å›åº”å¥å­çš„å‹¾é€‰
  function toggleResponseSelection(index, checkbox, event) {
    if (event && event.target !== checkbox) {
      checkbox.checked = !checkbox.checked;
    }
    if (checkbox.checked) {
      selectedResponses.add(index);
    } else {
      selectedResponses.delete(index);
    }
  }

  // === Tab åˆ‡æ¢ ===
  function switchTab(name) {
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));

    const tabs = { translate: 0, note: 1, history: 2 };
    const tabContents = ['translateTab', 'noteTab', 'historyTab'];
    
    document.getElementById(tabContents[tabs[name]]).classList.add('active');
    document.querySelectorAll('.tab-button')[tabs[name]].classList.add('active');

    if (name === 'history') {
      displayHistory();
    }
  }

  // === æ­¥éª¤åˆ‡æ¢ ===
  function showStep1() {
    document.getElementById('step1').classList.remove('hidden');
    document.getElementById('step2').classList.add('hidden');
    document.getElementById('step3').classList.add('hidden');
    updateStepIndicator(1);
  }

  function showStep2() {
    if (!currentScenario) {
      alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæƒ…å¢ƒï¼ˆéšä¾¿é€‰ä¸€ä¸ªä½ æœ€æœ‰æ„Ÿè§‰çš„å°±è¡Œï¼‰');
      return;
    }

    analyzeAndDisplay();
    document.getElementById('step1').classList.add('hidden');
    document.getElementById('step2').classList.remove('hidden');
    document.getElementById('step3').classList.add('hidden');
    updateStepIndicator(2);
  }

  function showStep3() {
    selectedReactions.clear();
    document.querySelectorAll('.reaction-card').forEach(card => {
      card.classList.remove('selected');
      const cb = card.querySelector('input[type="checkbox"]');
      if (cb) cb.checked = false;
    });
    
    document.getElementById('step1').classList.add('hidden');
    document.getElementById('step2').classList.add('hidden');
    document.getElementById('step3').classList.remove('hidden');
    updateStepIndicator(3);
  }

  function updateStepIndicator(step) {
    for (let i = 1; i <= 3; i++) {
      const dot = document.getElementById(`stepDot${i}`);
      if (i === step) {
        dot.classList.add('active');
      } else {
        dot.classList.remove('active');
      }
    }
  }

  // === æŒ‰å¹´é¾„ä¸ªæ€§åŒ–åˆ†æ ===
  function analyzeAndDisplay() {
    const template = scenarioTemplates[currentScenario];
    const ageData = template.ageVariants[currentAge];
    const userText = document.getElementById('scenarioText').value.trim();

    let emotions = [...ageData.emotions];
    emotions.forEach(e => {
      let score = 0;
      e.keywords.forEach(k => {
        if (userText.includes(k)) {
          score += 2;
        }
      });
      e.relevance = score > 0 ? score : 1;
    });
    emotions.sort((a, b) => b.relevance - a.relevance);
    emotions = emotions.slice(0, 3);

    let needs = [...ageData.needs];
    needs.forEach(n => {
      let score = 0;
      n.keywords.forEach(k => {
        if (userText.includes(k)) {
          score += 2;
        }
      });
      n.relevance = score > 0 ? score : 1;
    });
    needs.sort((a, b) => b.relevance - a.relevance);
    needs = needs.slice(0, 3);

    let responses = [...ageData.responses];

    currentAnalysis = { emotions, needs, responses, userText };
    selectedResponses.clear();
    displayAnalysis();
  }

  function displayAnalysis() {
    const { emotions, needs, responses } = currentAnalysis;
    
    const emotionHTML = emotions
      .map(e => `
        <div class="emotion-badge">
          <span class="emotion-emoji">${e.emoji}</span>${e.text}
          <div class="emotion-phrase">ğŸ‘‰ ä½ å¯ä»¥å¯¹å­©å­è¯´ï¼š${e.phrase}</div>
        </div>
      `)
      .join('');
    document.getElementById('emotionItems').innerHTML = emotionHTML;

    const needHTML = needs
      .map(n => `
        <div class="need-badge">
          <span class="emotion-emoji">${n.emoji}</span>${n.text}
          <div class="need-phrase">ğŸ’¡ é‡ç‚¹ï¼š${n.phrase}</div>
        </div>
      `)
      .join('');
    document.getElementById('needItems').innerHTML = needHTML;

    const responseHTML = responses
      .map((r, i) => `
        <div class="response-item">
          <span class="response-number">${i+1}</span>
          <span class="response-main">${r.main}</span>
          <div class="response-say">
            ğŸ‘‰ å¯ä»¥ç›´æ¥è¯´ï¼š<strong>ã€Œ${r.say.replace(/^[ã€Œã€]/g, '').replace(/ã€$/g, '')}ã€</strong>
          </div>
          <label class="response-select" onclick="toggleResponseSelection(${i}, this.querySelector('input'), event)">
            <input type="checkbox" onchange="toggleResponseSelection(${i}, this, event)"> æƒ³ç»ƒç»ƒè¿™å¥
          </label>
        </div>
      `)
      .join('');
    document.getElementById('responseItems').innerHTML = responseHTML;
  }

  // === ç”Ÿæˆé¼“åŠ±ä¿¡æ¯ ===
  function generateEncouragement() {
    const reactions = Array.from(selectedReactions);
    
    if (reactions.length === 0) {
      return {
        emoji: 'ğŸ’ª',
        highlight: 'ä½ æ„¿æ„ç•™ä¸‹è®°å½•ï¼Œæœ¬èº«å°±æ˜¯åœ¨ç…§é¡¾ä½ å’Œå­©å­çš„å…³ç³»ã€‚',
        message: encouragementMessages.noSelection
      };
    }

    const negativeReactions = ['raiseVoice', 'threaten', 'giveUp', 'cold', 'compare', 'label'];
    const positiveReactions = ['empathy', 'boundary', 'repair'];
    
    const negativeCount = reactions.filter(r => negativeReactions.includes(r)).length;
    const positiveCount = reactions.filter(r => positiveReactions.includes(r)).length;

    let messages = [];

    reactions.forEach(r => {
      if (encouragementMessages[r]) {
        messages.push(encouragementMessages[r]);
      }
    });

    let highlight = '';
    if (positiveCount > 0 && negativeCount === 0) {
      messages.push(encouragementMessages.allPositive);
      highlight = 'ä½ ä»Šå¤©å…¶å®åšäº†å¾ˆå¤šã€Œå¯¹å…³ç³»æœ‰å¸®åŠ©ã€çš„äº‹æƒ…ã€‚';
    } else if (negativeCount > 0 && positiveCount === 0) {
      messages.push(encouragementMessages.allNegative);
      highlight = 'ä»Šå¤©çœŸçš„æŒºä¸å®¹æ˜“çš„ï¼Œä½ ä¾ç„¶æ²¡æœ‰æ”¾å¼ƒè¿™æ®µå…³ç³»ã€‚';
    } else if (positiveCount > 0 && negativeCount > 0) {
      messages.push(encouragementMessages.mixed);
      highlight = 'ä½ åŒæ—¶çœ‹è§è‡ªå·±çš„ä¸å®Œç¾å’ŒåŠªåŠ›ï¼Œè¿™å°±æ˜¯å¾ˆæˆç†Ÿçš„çˆ¶æ¯æ ·å­ã€‚';
    }

    const selectedMessages = messages.slice(0, 2).join('\n\n');

    return {
      emoji: positiveCount >= negativeCount ? 'ğŸŒŸ' : 'ğŸ’ª',
      highlight: highlight || 'ä½ æ­£åœ¨ä¸€ç‚¹ç‚¹è°ƒæ•´è‡ªå·±å’Œå­©å­çš„ç›¸å¤„æ–¹å¼ã€‚',
      message: selectedMessages
    };
  }

  // === ç”Ÿæˆè®°å½•å¹¶ä¿å­˜ ===
  function goToNote() {
    if (!currentScenario || !currentAnalysis) {
      alert('è¯·å…ˆå®Œæˆæƒ…ç»ªç¿»è¯‘æ­¥éª¤ï¼ˆç¬¬ 1 å’Œç¬¬ 2 æ­¥ï¼‰ã€‚');
      return;
    }
    
    generateNote();
    switchTab('note');
  }

  function generateNote() {
    if (!currentScenario || !currentAnalysis) {
      document.getElementById('noteBox').innerHTML = '<span class="note-placeholder">è¯·å…ˆå®Œæˆå·¦è¾¹çš„æƒ…ç»ªç¿»è¯‘æ­¥éª¤ã€‚</span>';
      document.getElementById('encouragementSection').innerHTML = '';
      return;
    }

    const template = scenarioTemplates[currentScenario];
    const text = document.getElementById('scenarioText').value.trim();
    const { emotions, needs, responses } = currentAnalysis;

    const ageNames = {
      toddler: '1-3 å²',
      preschool: '3-6 å²',
      school: '6-12 å²'
    };

    const reactionMap = {
      raiseVoice: 'å½“æ—¶æƒ…ç»ªæ¯”è¾ƒå¤§ï¼ˆå£°éŸ³æœ‰å˜å¤§ï¼‰',
      threaten: 'è¯´äº†ã€Œä½ å†â€¦æˆ‘å°±â€¦ã€è¿™æ ·çš„è¯',
      giveUp: 'åæ¥å…ˆå¦¥å / æ”¾å¼ƒåšæŒ',
      cold: 'æœ‰å…ˆå†·å¤„ç†ä¸€é˜µå­',
      compare: 'æœ‰æ‹¿å­©å­è·Ÿåˆ«äººæ¯”è¾ƒ',
      label: 'è¯´äº†ä¸€äº›ç»™å­©å­è´´æ ‡ç­¾çš„è¯',
      empathy: 'æœ‰å…ˆè¯´å‡ºå­©å­çš„æ„Ÿå—',
      boundary: 'æœ‰æ¸©å’Œä½†åšå®šåœ°è¯´æ¸…ç•Œé™',
      repair: 'äº‹åæœ‰è¯•ç€ä¿®å¤å…³ç³»',
      tiredBlank: 'æˆ‘è‡ªå·±ä¹Ÿå¾ˆç´¯ï¼Œå½“æ—¶è„‘å­ä¸€ç‰‡ç©ºç™½'
    };

    const myReactions = Array.from(selectedReactions)
      .map(r => 'ãƒ»' + (reactionMap[r] || r))
      .join('\n') || 'ãƒ»ä»Šå¤©è¿˜åˆ†ä¸å¤ªæ¸…è‡ªå·±çš„ååº”ï¼Œåªæ˜¯å…ˆè®°ä¸‹æ¥ã€‚';

    // å–å®¶é•¿å‹¾é€‰çš„å›åº”å¥ï¼Œæœ€å¤š 2 å¥ï¼›å¦‚æœæ²¡å‹¾ï¼Œå°±æ‹¿ç¬¬ 1 å¥
    let practiceList = [];
    if (selectedResponses.size > 0) {
      Array.from(selectedResponses).slice(0, 2).forEach(idx => {
        const item = responses[idx];
        if (item) {
          practiceList.push(`ãƒ»${item.main}\n  ğŸ‘‰ å¯ä»¥è¯•ç€è¯´ï¼šã€Œ${item.say.replace(/^[ã€Œã€]/g, '').replace(/ã€$/g, '')}ã€`);
        }
      });
    } else if (responses.length > 0) {
      const item = responses[0];
      practiceList.push(`ãƒ»${item.main}\n  ğŸ‘‰ å¯ä»¥è¯•ç€è¯´ï¼šã€Œ${item.say.replace(/^[ã€Œã€]/g, '').replace(/ã€$/g, '')}ã€`);
    }

    let eventSection = '';
    if (text) {
      const shortText = text.length > 80 ? text.slice(0, 80) + '...' : text;
      eventSection = `ğŸ¯ ä»Šå¤©å¤§æ¦‚å‘ç”Ÿäº†ä»€ä¹ˆï¼š
${shortText}

`;
    } else {
      eventSection = `ğŸ¯ ä»Šå¤©å¤§æ¦‚å‘ç”Ÿäº†ä»€ä¹ˆï¼š
ï¼ˆä»Šå¤©æ²¡æœ‰ç‰¹åˆ«å†™ï¼Œä½†æˆ‘æ„¿æ„åœä¸‹æ¥å›æƒ³è¿™ä¸€å¹•ã€‚ï¼‰

`;
    }

    const note = `ğŸ“… ${new Date().toLocaleDateString('zh-CN')}ï½œ${template.icon} ${template.name}
ğŸ‘¶ å­©å­å¹´é¾„ï¼šå¤§çº¦ ${ageNames[currentAge]}

${eventSection}ğŸ’­ å­©å­å¯èƒ½çš„æ„Ÿå—ï¼š
ãƒ»${emotions.map(e => e.text).join('\nãƒ»')}

ğŸ’š å­©å­çœŸæ­£éœ€è¦çš„ï¼Œå¯èƒ½åŒ…æ‹¬ï¼š
ãƒ»${needs.map(n => n.text).join('\nãƒ»')}

ğŸ¤” æˆ‘å½“æ—¶å¤§è‡´ä¸Šçš„ååº”ï¼š
${myReactions}

ğŸ’¡ ä¸‹æ¬¡æˆ‘æƒ³ç»ƒä¹ çš„ä¸€ä¸¤å¥è¯ï¼š
${practiceList.join('\n') || 'ãƒ»æš‚æ—¶è¿˜æ²¡æƒ³åˆ°ï¼Œå…ˆç»™è‡ªå·±ä¸€ç‚¹æ—¶é—´ã€‚'}

â€”â€”â€”
è®°å½•æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}`;

    document.getElementById('noteBox').textContent = note;

    // ç”Ÿæˆé¼“åŠ±ä¿¡æ¯
    const encouragement = generateEncouragement();
    const encouragementHTML = `
      <div class="encouragement-box">
        <div class="encouragement-title">
          <span>${encouragement.emoji}</span> ç»™ä½ çš„ä¸€ä¸ªå°é¼“åŠ±
        </div>
        <div class="encouragement-content">
          <div class="encouragement-highlight">${encouragement.highlight}</div>
          ${encouragement.message.replace(/\n\n/g, '<br><br>')}
        </div>
      </div>
    `;
    document.getElementById('encouragementSection').innerHTML = encouragementHTML;

    // å»ºç«‹è®°å½•å¯¹è±¡
    const record = {
      id: Date.now(),
      date: new Date().toISOString(),
      age: currentAge,
      ageName: ageNames[currentAge],
      scenario: currentScenario,
      scenarioName: template.name,
      text: text || 'ï¼ˆæœªå¡«å†™è¯¦ç»†æƒ…å†µï¼‰',
      emotions: emotions.map(e => e.text),
      needs: needs.map(n => n.text),
      responses: responses,
      selectedResponseIndexes: Array.from(selectedResponses),
      reactions: Array.from(selectedReactions),
      note: note,
      encouragement: encouragement.message
    };

    // å¦‚æœ 1 åˆ†é’Ÿå†…ç›¸åŒæƒ…å¢ƒ + åŒæ ·å†…å®¹ï¼Œåˆ™è¦†ç›–
    const existingIndex = records.findIndex(r => 
      r.scenario === record.scenario && 
      r.text === record.text && 
      Math.abs(new Date(r.date) - new Date(record.date)) < 60000
    );

    if (existingIndex >= 0) {
      records[existingIndex] = record;
    } else {
      records.unshift(record);
    }

    // æœ€å¤šä¿ç•™ 50 æ¡
    records = records.slice(0, 50);
    saveRecords();
    updateHistoryCount();
  }

  function regenerateNote() {
    generateNote();
  }

  function copyNote() {
    const noteBox = document.getElementById('noteBox');
    const text = noteBox.textContent;
    const copyHint = document.getElementById('copyHint');
    if (!text || text.includes('è¯·å…ˆå®Œæˆ')) {
      alert('è¯·å…ˆå®Œæˆæƒ…ç»ªç¿»è¯‘çš„ 3 ä¸ªæ­¥éª¤ï¼Œå†å¤åˆ¶è®°å½•ã€‚');
      return;
    }
    
    const encouragementText = document.querySelector('.encouragement-content')?.textContent || '';
    const fullText = text + (encouragementText ? '\n\nğŸ’ª ç»™è‡ªå·±çš„ä¸€ä¸ªå°é¼“åŠ±ï¼š\n' + encouragementText : '');
    
    navigator.clipboard.writeText(fullText).then(() => {
      copyHint.textContent = 'âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ä»¥ç²˜è´´åˆ°å¾®ä¿¡ã€å¤‡å¿˜å½•æˆ–å‘ç»™å®¶äººã€‚';
      setTimeout(() => {
        copyHint.textContent = '';
      }, 3500);
    }).catch(() => {
      alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰ä¸­æ–‡å­—å¤åˆ¶ã€‚');
    });
  }

  // === æ¯å‘¨å›é¡¾ ===
  function displayHistory() {
    const sevenDaysAgo = new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);

    const recentRecords = records.filter(r => new Date(r.date) >= sevenDaysAgo);

    const historyList = document.getElementById('historyList');
    const summaryBox = document.getElementById('historySummary');

    if (recentRecords.length === 0) {
      historyList.innerHTML = `
        <div class="empty-history">
          <div class="empty-history-icon">ğŸ“­</div>
          <p>è¿‡å» 7 å¤©è¿˜æ²¡æœ‰è®°å½•ã€‚</p>
          <p style="font-size: 0.9em; color: #999; margin-top: 8px;">å®Œæˆä¸€æ¬¡æƒ…ç»ªç¿»è¯‘ä¹‹åï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°è‡ªå·±çš„ç»ƒä¹ è½¨è¿¹ã€‚</p>
        </div>
      `;
      summaryBox.classList.add('hidden');
      summaryBox.textContent = '';
      return;
    }

    // å°ç»Ÿè®¡ï¼šæœ€å¤šçš„æƒ…å¢ƒï¼Œæ­£å‘ / æ¯”è¾ƒéš¾çš„ååº”æ¬¡æ•°
    const scenarioCount = {};
    const reactionMapShort = {
      raiseVoice: 'å£°éŸ³å˜å¤§',
      threaten: 'è¯´äº†å¨èƒçš„è¯',
      giveUp: 'å…ˆå¦¥åæ”¾å¼ƒ',
      cold: 'å†·å¤„ç†',
      compare: 'æ‹¿åˆ«äººæ¯”è¾ƒ',
      label: 'è´´æ ‡ç­¾',
      empathy: 'æœ‰åŒç†',
      boundary: 'æœ‰è®¾ç•Œé™',
      repair: 'æœ‰ä¿®å¤å…³ç³»',
      tiredBlank: 'è‡ªå·±ä¹Ÿå¾ˆç´¯'
    };
    const negativeReactions = ['raiseVoice', 'threaten', 'giveUp', 'cold', 'compare', 'label'];
    const positiveReactions = ['empathy', 'boundary', 'repair'];

    let negativeTimes = 0;
    let positiveTimes = 0;

    recentRecords.forEach(r => {
      scenarioCount[r.scenarioName] = (scenarioCount[r.scenarioName] || 0) + 1;
      (r.reactions || []).forEach(re => {
        if (negativeReactions.includes(re)) negativeTimes++;
        if (positiveReactions.includes(re)) positiveTimes++;
      });
    });

    let topScenario = '';
    let topScenarioCount = 0;
    Object.entries(scenarioCount).forEach(([name, count]) => {
      if (count > topScenarioCount) {
        topScenarioCount = count;
        topScenario = name;
      }
    });

    const summaryLines = [];
    summaryLines.push(`è¿™ 7 å¤©ï¼Œä½ ä¸€å…±è®°å½•äº† ${recentRecords.length} æ¬¡äº²å­äº’åŠ¨ã€‚`);
    if (topScenario) {
      summaryLines.push(`æœ€å¸¸å‡ºç°çš„æƒ…å†µæ˜¯ï¼š${topScenario}ï¼ˆå¤§æ¦‚ ${topScenarioCount} æ¬¡ï¼‰ã€‚`);
    }
    if (positiveTimes > 0 || negativeTimes > 0) {
      summaryLines.push(`åœ¨è¿™äº›è®°å½•é‡Œï¼Œä½ æœ‰ ${positiveTimes} æ¬¡ç”¨äº†ã€ŒåŒç† / è®¾ç•Œé™ / ä¿®å¤å…³ç³»ã€ï¼Œæœ‰ ${negativeTimes} æ¬¡å‡ºç°äº†ã€Œå£°éŸ³å˜å¤§ã€å¨èƒã€å†·å¤„ç†ã€è¿™ç±»ååº”ã€‚`);
      if (positiveTimes > negativeTimes) {
        summaryLines.push('æ€»ä½“æ¥è¯´ï¼Œä½ å·²ç»è¶Šæ¥è¶Šå¸¸ç”¨ã€Œç†è§£ + æ¸…æ™°ç•Œé™ã€çš„æ–¹å¼é™ªå­©å­äº†ã€‚');
      } else {
        summaryLines.push('è™½ç„¶æœ‰æ—¶å€™æƒ…ç»ªä¼šå…ˆå†²å‡ºæ¥ï¼Œä½†ä½ æ„¿æ„å›å¤´çœ‹ï¼Œè¿™æœ¬èº«å°±æ˜¯å¾ˆé‡è¦çš„æ”¹å˜ã€‚');
      }
    } else {
      summaryLines.push('ä½ æ­£åœ¨æ…¢æ…¢å»ºç«‹è®°å½•çš„ä¹ æƒ¯ï¼Œä¹‹åå¯ä»¥å¤šå‹¾é€‰è‡ªå·±çš„ååº”ï¼Œçœ‹åˆ°æ›´å¤šç»†èŠ‚ã€‚');
    }

    summaryBox.textContent = summaryLines.join('\n');
    summaryBox.classList.remove('hidden');

    const historyHTML = recentRecords.map(r => {
      const date = new Date(r.date);
      const dateStr = `${date.getMonth() + 1}/${date.getDate()} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
      
      const eventText = r.text === 'ï¼ˆæœªå¡«å†™è¯¦ç»†æƒ…å†µï¼‰' ? 'ï¼ˆæœªå¡«å†™è¯¦ç»†æƒ…å†µï¼‰' : r.text;
      
      return `
        <div class="history-item">
          <div class="history-header">
            <div class="history-date">${dateStr}</div>
            <div class="history-scenario">${r.ageName || ''}ï½œ${r.scenarioName}</div>
          </div>
          <div class="history-content">
            <strong>å¤§æ¦‚å‘ç”Ÿäº†ä»€ä¹ˆï¼š</strong>${eventText}<br>
            <strong>å­©å­çš„æ„Ÿå—ï¼š</strong>${r.emotions.join('ã€')}<br>
            <strong>æˆ‘çš„ååº”ï¼š</strong>${r.reactions.length > 0 ? r.reactions.map(re => reactionMapShort[re] || re).join('ã€') : 'æœªå‹¾é€‰'}<br>
          </div>
        </div>
      `;
    }).join('');

    historyList.innerHTML = historyHTML;
  }

  function updateHistoryCount() {
    const sevenDaysAgo = new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    const recentCount = records.filter(r => new Date(r.date) >= sevenDaysAgo).length;
    
    if (recentCount > 0) {
      document.querySelectorAll('.tab-button')[2].innerHTML = `ğŸ“Š æ¯å‘¨å›é¡¾ (${recentCount})`;
    } else {
      document.querySelectorAll('.tab-button')[2].innerHTML = `ğŸ“Š æ¯å‘¨å›é¡¾`;
    }
  }

  function clearAllRecords() {
    if (!confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰è®°å½•å—ï¼Ÿ\nï¼ˆè¿™åªæ˜¯åˆ é™¤æœ¬è®¾å¤‡æµè§ˆå™¨é‡Œçš„è®°å½•ï¼Œä¸ä¼šå½±å“å…¶ä»–åœ°æ–¹ï¼‰')) {
      return;
    }
    records = [];
    saveRecords();
    updateHistoryCount();
    displayHistory();
  }

  window.addEventListener('load', () => {
    initRecords();
    updateHistoryCount();
  });
</script>
</body>
</html> 